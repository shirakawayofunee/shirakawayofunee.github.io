<script>
    // ... (保留你原有的 gallery 逻辑代码) ...

有两个问题，那就是从A网页导航栏跳转到B网页后，从B网页的导航栏再跳转回A网页，“ギャラリー”导航消失了。第二个问题是页面中，首屏是有一个视频播放的，我确认本地文件名没错，为什么视频播放不了“<video src="kv/1.mp4" style="width:100%;" muted autoplay loop id="kvPc" poster="kv/p.jpg" data-mouse="small"></video>”，

我找到问题所在了，不知道为什么，可能是JS文件里定义了什么，视频文件必须是p.mp4才能播放。现在的问题是，我另一个HTML跟这个HTML是同系列的（代码都是同一份文件改出来的）那个HTML的首屏也变成p.mp4了，我要怎么不让那个HTML播放视频（也就是B页面播放A页面不播放显示p0.jpg<video src="kv/rain.mp4" style="width:100%;" muted autoplay loop id="kvPc" poster="kv/p0.jpg" data-mouse="small"></video>）


    // ================== BGM 控制逻辑 (移植版) ==================
    
    // 音乐控制函数
    function muteMusic(num) {
        var bgmPlayer = document.getElementById('bgm');
        // 获取所有的播放(动图)和停止(静止)按钮
        var playButtons = document.querySelectorAll('.imgMusicPlay'); // 播放状态显示的图
        var stopButtons = document.querySelectorAll('.imgMusicStop'); // 停止状态显示的图

        if (!bgmPlayer) {
            console.error('未找到 id="bgm" 的音频元素');
            return;
        }

        if (num === 1) {
            // 操作：暂停音乐
            console.log('Pause BGM');
            bgmPlayer.pause();
            
            // 界面：隐藏动图，显示静止图
            playButtons.forEach(btn => btn.style.display = 'none');
            stopButtons.forEach(btn => btn.style.display = 'block');
            
        } else if (num === 2) {
            // 操作：播放音乐
            console.log('Play BGM');
            var playPromise = bgmPlayer.play();

            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // 播放成功
                    bgmPlayer.muted = false;
                    // 界面：显示动图，隐藏静止图
                    playButtons.forEach(btn => btn.style.display = 'block');
                    stopButtons.forEach(btn => btn.style.display = 'none');
                }).catch(error => {
                    console.error('自动播放被阻止，等待用户交互:', error);
                    // 如果播放失败（通常是因为浏览器策略），保持静止图标显示
                });
            }
        }
    }

    // 页面加载完成后尝试自动播放（可选）
    // 注意：现代浏览器通常会阻止没有用户交互的自动播放
    document.addEventListener('DOMContentLoaded', function () {
        // 尝试触发一次播放，如果失败则静音播放或等待用户点击
        var bgmPlayer = document.getElementById('bgm');
        if(bgmPlayer) {
            // 绑定一次点击事件，用户点击页面任何位置时尝试播放（解决浏览器限制）
            document.addEventListener('click', function tryAutoPlay() {
                if (bgmPlayer.paused) {
                    muteMusic(2);
                }
                // 移除监听，避免重复触发
                document.removeEventListener('click', tryAutoPlay);
            }, { once: true });
        }
    });
</script>