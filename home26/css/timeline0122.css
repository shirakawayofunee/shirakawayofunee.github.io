/* --- 全局变量与重置 --- */
:root {
    --bg-color: #fbfbfb;
    --fg-color: #111111;
    --line-color: #dcdcdc;
    --accent-color: #0022AA; /* 样式B的日期颜色 */
    --font-main: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
    --font-mono: "Courier New", monospace;
    --font-impact: "Impact", "Arial Black", sans-serif; /* 样式A的大字体 */
    --track-height: 10vh;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    background-color: var(--bg-color);
    color: var(--fg-color);
    font-family: var(--font-main);
    width: 100vw; height: 100vh;
    overflow: hidden;
}



/* --- 1. 导航栏 (保持不变) --- */
.h-con-right {
    position: fixed; top: 0; left: 0; width: 100%; height: var(--track-height);
    background: rgba(255,255,255,0.95); border-bottom: 1px solid var(--fg-color);
    z-index: 1000; display: flex; justify-content: center; align-items: center;
}
/* ...导航栏内部样式同上一版，此处省略以节省篇幅... */
.h-con-right-l { display: flex; gap: 1vw; height: 100%; align-items: center; }
.div-centerpc { cursor: pointer; text-align: center; padding: 0 15px; height: 60%; display: flex; flex-direction: column; justify-content: center; transition: all 0.3s; border: 1px solid transparent; }
.div-centerpc:hover, .div-centerpc.active { background: var(--fg-color); border: 1px solid var(--fg-color); }
.div-centerpc:hover .div-head-text, .div-centerpc:hover .div-head-text-en, .div-centerpc.active .div-head-text, .div-centerpc.active .div-head-text-en { color: #fff; }
.div-head-text { font-size: 12px; font-weight: bold; color: var(--fg-color); white-space: nowrap; }
.div-head-text-en { font-size: 10px; font-family: var(--font-mono); letter-spacing: 1px; color: #666; }
.h-con-right-r { position: absolute; right: 30px; }

/* --- 2. 背景轨道 --- */
.bg-tracks {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none;
    background-image: repeating-linear-gradient(to bottom, var(--line-color) 0, var(--line-color) 1px, transparent 1px, transparent var(--track-height));
}
.bg-tracks::after { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: var(--fg-color); opacity: 0.3; }

/* --- 3. 内容容器 --- */
.wrapper { width: 100%; height: 100%; }
.horizontal-content { position: relative; height: 100%; will-change: transform; margin-left: 10vw; }

/* --- 4. 事件块核心样式 --- */
.event-item {
    position: absolute;
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start; 
    border-left: 2px solid var(--fg-color);
    background: rgba(255,255,255,0.85);
    /* backdrop-filter: blur(5px); */
    overflow: hidden;
    z-index: 1; /* 默认层级 */
    transition: transform 0.3s, z-index 0s;
}

.event-item:hover {
    z-index: 10;
}

/* ================== 样式 B：普通节点 (默认) ================== */
.event-date {
    font-family: var(--font-mono);
    font-weight: 900;
    font-size: 1.4rem;
    color: var(--accent-color); /* 蓝色日期 */
    margin-bottom: 15px;
    line-height: 1.2;
}
.event-text {
    font-size: 0.95rem;
    line-height: 1.8;
    color: #222;
    font-weight: 500;
    text-align: justify;
}
/* 样式 B 中的高亮重点 (黑底白字) */
.event-text span {
    background: var(--fg-color);
    color: #fff;
    padding: 2px 6px;
    margin: 0 2px;
    font-weight: bold;
    display: inline-block; /* 稍微撑开一点 */
}

/* ================== 样式 A：关键节点 (IsMajor) ================== */
.event-item.is-major {
    border-left: none; /* 确保没有边框 */
    background: transparent; /* 去掉背景，让灰色大字透出来 */
    overflow: visible; /* 允许大字溢出一点 */
    justify-content: flex-start;
    padding-top: 4vh;
}

.major-content-wrap {
    border-left: 5px solid var(--fg-color); /* 边框移到这里 */
    padding-left: 15px; /* 文字和线的间距 */
    display: flex;
    flex-direction: column;
    /* 关键：让高度自适应内容，而不是撑满格子 */
    height: fit-content; 
}

/* 背景大字年份 */
.major-bg-year {
    position: absolute;
    top: -10%; 
    left: 0;
    font-family: var(--font-impact);
    font-size: 7rem; /* 巨大字体 */
    color: #E6E6E6; /* 浅灰 */
    line-height: 1;
    z-index: -1; /* 在底层 */
    white-space: nowrap;
    pointer-events: none;
    user-select: none;
}

/* 黑底白字大标题 */
.major-title {
    background: var(--fg-color);
    color: #fff;
    font-size: 2.2rem;
    font-weight: 900;
    padding: 5px 15px;
    display: inline-block;
    width: fit-content;
    margin-bottom: 20px;
    box-shadow: 4px 4px 0 rgba(0,0,0,0.1);
}

/* 下方描述文字 */
.major-desc {
    font-size: 1rem;
    line-height: 1.6;
    background: #fff; /* 给文字加个白底保证可读性 */
    padding: 10px;
    border: 1px solid #eee;
}

.major-desc span {
    background: var(--fg-color);
    color: #fff;
    padding: 2px 6px;
    margin: 0 2px;
    font-weight: bold;
    display: inline-block; /* 稍微撑开一点 */
}


/* 图片样式 */
.event-item.is-image {
    padding: 0; border: none;
    background: transparent;    
    overflow: hidden; 
}
.event-item.is-image img {
    width: 100%; height: 100%; object-fit: cover; 
    object-position: center center;
    clip-path: inset(0 100% 0 0);
}

/* --- 5. 底部进度条 --- */
.bottom-nav {
    position: fixed;
    /* 改用 top 定位，95vh 正好是第10行(90-100)的中间 */
    top: 95vh; 
    left: 5vw; width: 90vw;
    height: 40px;
    z-index: 100;
    display: flex; align-items: center; pointer-events: none;
    /* 通过 translateY 修正自身高度的一半，确保绝对垂直居中 */
    transform: translateY(-50%);
}
.progress-line {
    width: 100%; height: 2px; background: var(--fg-color); position: relative; pointer-events: auto; cursor: pointer;
}
/* --- 修改部分：底部进度条滑块 --- */
.diamond-cursor {
    position: absolute; top: 50%; left: 0;
    width: 24px; 
    height: 24px;

    /* 2. 始终显示图片 (去掉黑色背景和边框) */
    background-color: transparent;
    border: none;
    background-image: url('../img/timeline/icon_curr.png'); /* 确保路径正确 */
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    
    /* 3. 定位 (图片直接摆正，不需要旋转) */
    transform: translate(-50%, -50%);
    
    cursor: grab;
    z-index: 101;
    
    /* 交互缩放动画 */
    transition: transform 0.2s ease;
}

/* === 状态 B：拖动/悬停时 (显示图片，不旋转) === */
.diamond-cursor.is-dragging,
.diamond-cursor:hover {
    cursor: grabbing;
    /* 只需要稍微放大一点点，表示“捏住了” */
    transform: translate(-50%, -50%) scale(1.2);
}

/* 为了防止拖动时选中页面文字，给 body 加个全局样式 */
body.is-dragging-mode {
    user-select: none;
    cursor: grabbing !important;
}

.cursor-label {
    position: absolute;
    top: -35px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--fg-color);
    color: #fff;
    padding: 3px 6px;
    font-size: 10px;
    font-family: var(--font-mono);
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
}

.diamond-cursor:hover .cursor-label,
.diamond-cursor.is-dragging .cursor-label {
    opacity: 1;
/*     transform: translateX(-50%) rotate(0deg);
    top: -35px; */
}
