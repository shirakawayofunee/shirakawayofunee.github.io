"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[401],{56288:function(e,t,i){var n=i(85893);i(67294);var s=i(41664),a=i.n(s),l=i(19521),o=i(72544),c=i(60601),r=i(92929),d=i(8773);let u=e=>{let{label:t,isActive:i=!1,showLabel:s,children:a,onClick:l}=e;return(0,n.jsxs)(h,{isActive:i,onClick:l,children:[(0,n.jsx)("div",{className:"linkIdentifier",children:a}),s&&!!t&&(0,n.jsx)("p",{className:"label",children:t})]})};t.Z=e=>{let{className:t,items:i=[],showLabels:s=!1}=e;return(0,n.jsx)(C,{className:t,children:(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"inner",children:i.map(e=>{let t=(0,n.jsx)(u,{label:s?e.label:"",isActive:!0===e.isActive,showLabel:s,onClick:"function"==typeof e.onClick?e.onClick:null,children:!0===e.isActive&&"function"==typeof e.activeIcon&&e.activeIcon({className:"creatorStickyFooterIcon"})||"function"==typeof e.icon&&e.icon({className:"creatorStickyFooterIcon"})||!!e.content&&e.content},(0,d.Z)());return e.link?(0,n.jsx)(a(),{href:e.link,children:t},e.link):t})})})})};let C=l.ZP.div.withConfig({componentId:"sc-83ecf7de-0"})(["background-color:",";border-top:1px solid ",";bottom:0;box-sizing:border-box;width:100%;position:fixed;z-index:",";.inner{display:flex;justify-content:space-between;padding:0.75rem 0.25rem;position:relative;> *{flex-grow:1;}}.externalLink{flex-grow:1;flex-shrink:1;text-decoration:none;}"],o.Z.GRAY_LIGHTER,o.Z.GRAY_LIGHT,r.Z.PRIMARY_NAVIGATION),h=l.ZP.div.withConfig({componentId:"sc-83ecf7de-1"})(["align-items:center;cursor:pointer;display:flex;flex-direction:column;justify-content:center;padding:0rem 0.25rem;.creatorStickyFooterIcon{fill:",";height:1.5rem;width:1.5rem;"," ","}.label{color:",";font-size:",";font-weight:",";line-height:0.875rem;margin-top:0.125rem;","}"],o.Z.GRAY_DARK,e=>e.showLabel&&"margin-bottom: 0.125rem;",e=>e.isActive&&"fill: ".concat(o.Z.BLACK,";"),o.Z.BLACK_LIGHTEST_2,c.Z.BODY_SIZES.XXS,c.Z.WEIGHTS.BOLD,e=>e.isActive&&"color: ".concat(o.Z.BLACK,";"))},51068:function(e,t,i){var n=i(85893);i(67294);var s=i(39070);t.Z=e=>{let{className:t,height:i=24,width:a=24,...l}=e;return(0,n.jsx)(s.Z,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,height:i,width:a,...l,children:(0,n.jsx)("path",{d:"M7.02 13C4.81 13 3.02 14.79 3.02 17C3.02 19.21 4.81 21 7.02 21C9.23 21 11.02 19.21 11.02 17C11.02 14.79 9.23 13 7.02 13ZM7.02 19C5.92 19 5.02 18.1 5.02 17C5.02 15.9 5.92 15 7.02 15C8.12 15 9.02 15.9 9.02 17C9.02 18.1 8.12 19 7.02 19ZM13 13V21H21V13H13ZM19 19H15V15H19V19ZM7 2L2 11H12L7 2ZM7 6.12L8.6 9H5.4L7 6.12ZM19.25 2.5C18.19 2.5 17.44 3.06 17 3.67C16.56 3.06 15.81 2.5 14.75 2.5C13.19 2.5 12 3.78 12 5.25C12 7.25 14.42 8.67 17 11C19.58 8.67 22 7.25 22 5.25C22 3.78 20.81 2.5 19.25 2.5ZM17 8.35C15.55 7.13 14 5.95 14 5.25C14 4.82 14.35 4.5 14.75 4.5C15.06 4.5 15.27 4.67 15.48 4.87L17 6.3L18.52 4.87C18.73 4.67 18.94 4.5 19.25 4.5C19.65 4.5 20 4.82 20 5.25C20 5.95 18.45 7.13 17 8.35Z"})})}},3863:function(e,t,i){var n=i(85893);i(67294);var s=i(39070);t.Z=e=>{let{className:t,height:i=24,width:a=24,...l}=e;return(0,n.jsx)(s.Z,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,height:i,width:a,...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29922 21.8638C7.84664 22.1292 7.22686 22.4926 6.14522 22.7122C6.07456 22.7266 6.00193 22.7403 5.92724 22.7534C5.39778 22.8459 4.76512 22.9042 4 22.9042C3.89534 22.9042 3.91475 22.7797 4 22.5717C4.05575 22.4356 4.13965 22.2638 4.23543 22.0678C4.38199 21.7677 4.55636 21.4107 4.70015 21.0378C4.72034 20.9854 4.73993 20.9328 4.75875 20.8799C5.02425 20.1341 5.1377 19.3485 4.64567 18.8414C3.00321 17.1488 2 14.8878 2 12.4042C2 7.15747 6.47715 2.90417 12 2.90417C17.5228 2.90417 22 7.15747 22 12.4042C22 17.6509 17.5228 21.9042 12 21.9042C11.0721 21.9042 10.1738 21.7841 9.32124 21.5595C8.97405 21.468 8.70327 21.6268 8.29922 21.8638ZM9 11.6542H7V13.6542H9V11.6542ZM17 11.6542H15V13.6542H17V11.6542ZM11 13.6542V11.6542H13V13.6542H11Z"})})}},55582:function(e,t,i){var n=i(85893);i(67294);var s=i(39070);t.Z=e=>{let{className:t,height:i=24,width:a=24,...l}=e;return(0,n.jsxs)(s.Z,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,height:i,width:a,...l,children:[(0,n.jsx)("path",{d:"M12 21.5C13.1 21.5 14 20.6 14 19.5H10C10 20.6 10.9 21.5 12 21.5ZM19.4 16.0333C19.1404 15.6871 19 15.2661 19 14.8333V11.5C19 8.54118 17.4859 5.11792 13.9117 4.26509C13.6755 4.20875 13.5 4.00295 13.5 3.7602V3.5C13.5 2.67 12.83 2 12 2C11.17 2 10.5 2.67 10.5 3.5V3.76038C10.5 4.00306 10.3246 4.2088 10.0886 4.26524C6.52314 5.11772 5 8.53176 5 11.5V14.8333C5 15.2661 4.85964 15.6871 4.6 16.0333L3.65 17.3C3.55263 17.4298 3.5 17.5877 3.5 17.75C3.5 18.1642 3.83579 18.5 4.25 18.5H19.75C20.1642 18.5 20.5 18.1642 20.5 17.75C20.5 17.5877 20.4474 17.4298 20.35 17.3L19.4 16.0333ZM17 16.5H7V11.5C7 9.02 8.51 6 12 6C15.49 6 17 9.02 17 11.5V16.5Z"}),(0,n.jsx)("path",{d:"M17 16.5H7V11.5C7 9.02 8.51 6 12 6C15.49 6 17 9.02 17 11.5V16.5Z"})]})}},90481:function(e,t,i){var n=i(85893);i(67294),t.Z=e=>{let{className:t,height:i=24,width:s=24,...a}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t,height:i,width:s,...a,children:(0,n.jsx)("path",{d:"M21.1364 8.77273V5.90909H19.2273V8.77273H16.3636V10.6818H19.2273V13.5455H21.1364V10.6818H24V8.77273H21.1364ZM10.6364 11.6364C12.7459 11.6364 14.4545 9.92773 14.4545 7.81818C14.4545 5.70864 12.7459 4 10.6364 4C8.52682 4 6.81818 5.70864 6.81818 7.81818C6.81818 9.92773 8.52682 11.6364 10.6364 11.6364ZM10.6364 5.90909C11.6864 5.90909 12.5455 6.76818 12.5455 7.81818C12.5455 8.86818 11.6864 9.72727 10.6364 9.72727C9.58636 9.72727 8.72727 8.86818 8.72727 7.81818C8.72727 6.76818 9.58636 5.90909 10.6364 5.90909ZM16.7359 14.08C15.1323 13.2591 13.0514 12.5909 10.6364 12.5909C8.22136 12.5909 6.14045 13.2591 4.53682 14.08C3.58227 14.5668 3 15.55 3 16.6191V19.2727H18.2727V16.6191C18.2727 15.55 17.6905 14.5668 16.7359 14.08ZM16.3636 17.3636H4.90909V16.6191C4.90909 16.2564 5.1 15.9318 5.40545 15.7791C6.54136 15.1968 8.37409 14.5 10.6364 14.5C12.8986 14.5 14.7314 15.1968 15.8673 15.7791C16.1727 15.9318 16.3636 16.2564 16.3636 16.6191V17.3636Z"})})}},69176:function(e,t,i){var n=i(85893);i(67294);var s=i(19521),a=i(44168),l=i(12595),o=i(69871),c=i(72690),r=i(60601),d=i(41248),u=i(34642);t.Z=e=>{let{isOpen:t,onRequestClose:i,footerElement:s}=e,r=(0,d.v9)(e=>e.chat),h=t&&!r.isModalOpen;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.Z,{isOpen:h,onRequestClose:i,isFullScreen:!0,children:(0,n.jsxs)(C,{children:[(0,n.jsx)(l.Z,{contentLeft:(0,n.jsx)(o.Z,{className:"headerIcon",height:"2rem",width:"2rem",onClick:i}),contentCenter:(0,n.jsx)("p",{className:"bolded",children:"Messages"})}),(0,n.jsx)(c.Z,{isPadded:!1,isFullScreen:!0,children:(0,n.jsx)("div",{className:"mainModalContent",children:h&&(0,n.jsx)(u.Bt,{})})}),t&&!!s&&s]})})})};let C=s.ZP.div.withConfig({componentId:"sc-2b8e2f08-0"})([".headerIcon{cursor:pointer;}.bolded{font-weight:",";}.mainModalContent{height:100%;padding-bottom:2.25rem;}"],r.Z.WEIGHTS.BOLD)},26196:function(e,t,i){let n,s;i.d(t,{Z:function(){return S}});var a=i(85893),l=i(41248),o=i(67294),c=i(64527),r=i(86983),d=i(65183),u=i(76982),C=i(97440),h=i(23274),f=i(58142);let m=(e,t,i,s,a)=>{let l=Math.min(t*i,s),o=a-t;a<t||setTimeout(()=>{n&&(e(),m(e,l,s,o))},[t])};var v=e=>{let{chatState:t,dispatch:i,onSuccess:s}=e;n||(n=!0,Z({chatState:t,dispatch:i,onSuccess:s}),m(()=>{Z({chatState:t,dispatch:i,onSuccess:s})},250,1.5,5e3,12e4))};let I=()=>{n=!1},Z=async e=>{let t,{chatState:i,dispatch:s,onSuccess:a}=e;if(i.isConnected){n=!1;return}let l=(0,r.Z)();if(!l||!l.streamToken)return;let{userID:o,streamToken:d}=l,u=h.c8.getInstance(f.default.STREAM_PUBLIC_KEY,{timeout:1e4,enableWSFallback:!0});if(s((0,c.MD)({client:u})),void 0===u.user){try{t=await u.connectUser({id:o,language:"en"},d.secret)}catch(t){let e;try{e=JSON.parse(t.message)}catch(i){e={message:t.message,code:t.code||null}}if((null==e?void 0:e.code)!==40)throw t}(null==t?void 0:t.connection_id)&&(n=!1,u.user.total_unread_count>0&&s((0,c.kG)({hasUnread:!0})),a&&a({client:u}))}};var g=i(21283),p=i(91654),x=i(34642),S=()=>{let e=(0,l.v9)(e=>e.chat),t=(0,l.v9)(e=>e.session),i=(0,u.oG)(),n=(0,l.I0)(),[h,m]=(0,o.useState)(0),[Z,S]=(0,o.useState)(!1),[M,w]=(0,o.useState)(null),[L,E]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if("undefined"!=typeof document){E("visible"===document.visibilityState);let e=()=>{E("visible"===document.visibilityState)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}},[]),(0,o.useEffect)(()=>{t.userID&&void 0!==i&&L&&!e.isConnected&&v({chatState:e,dispatch:n,onSuccess:async a=>{let l;let{client:o}=a,u=(0,r.Z)(),v=[],Z=!1;if(o.on(e=>{void 0!==e.total_unread_count&&(n((0,c.kG)({hasUnread:!!e.total_unread_count})),e.total_unread_count&&Z&&e.user&&e.user.id&&!v.includes(e.user.id)&&v.push(e.user.id)),"notification.mark_read"===e.type&&(v=[])}),i){let e=localStorage.getItem("v-selected-channel");if(e){let t=await (0,C.Z)(o,[u.userID,e]);if(t.length>0){let e=t[0];(0,d.Z)({channel:e,userID:u.userID,dispatch:n,isMinimized:!0})}}}let g=async()=>{"hidden"===document.visibilityState?(Z=!0,l=setTimeout(async()=>{if(h)return;m(!0);let e=document.getElementsByClassName("str-chat__message-textarea")[0];e&&n((0,c.Tw)({defaultMessage:e.innerHTML})),v.length>0&&(0,p.Z)("/user/chats/".concat(t.userID,"/unread"),{body:{userIDs:v},method:"POST"}),v=[],I(),S(!1),n((0,c.sz)({isConnected:!1})),n((0,c.G9)()),await o.disconnectUser(),m(!1)},1e3*f.default.STREAM_INACTIVITY_THRESHOLD_SECONDS)):(Z=!1,v=[],l&&(clearTimeout(l),l=void 0,S(!0)))};document.addEventListener("visibilitychange",g),s=g,e.isSetupComplete||n((0,c.Hz)({isSetupComplete:!0})),n((0,c.sz)({isConnected:!0}))}})},[t.userID,i,L]),(0,o.useEffect)(()=>{!h&&Z&&e.isSetupComplete&&v({chatState:e,dispatch:n,onSuccess:async()=>{n((0,c.sz)({isConnected:!0})),S(!1);let i=e.chatData.user;if(i){let n=await (0,C.Z)(e.client,[t.userID,i.userID]);n.length>0&&w(n[0])}}})},[h,Z]),(0,o.useEffect)(()=>{if(M){var i;(null===(i=e.chatData.user)||void 0===i?void 0:i.userID)&&t.userID&&e.chatData.user.userID===(0,g.Z)(M,t.userID).id&&(0,d.Z)({channel:M,userID:t.userID,dispatch:n,isMinimized:e.isMinimized,defaultMessage:e.chatData.defaultMessage,isChatDataPreloaded:!0}),w(null)}},[M]),(0,o.useEffect)(()=>{if(e.isSetupComplete&&e.isConnected){if(e.selectedChannel){let i=(0,g.Z)(e.selectedChannel,t.userID);localStorage.setItem("v-selected-channel",i.id)}else localStorage.removeItem("v-selected-channel")}},[e.selectedChannel]),(0,o.useEffect)(()=>{!i&&e.isMinimized&&n((0,c.o5)()),!i&&e.isLauncherOpen&&n((0,c.GX)({isLauncherOpen:!1}))},[i]),(0,o.useEffect)(()=>{!t.userID&&e.isSetupComplete&&(S(!1),m(!1),s&&(document.removeEventListener("visibilitychange",s),s=void 0),n((0,c.Zu)()))},[t.userID]),(0,o.useEffect)(()=>{e.isLoggingOut&&(async()=>{await e.client.disconnectUser(),n((0,c.AK)())})()},[e.isLoggingOut]),e.isSetupComplete&&e.isModalOpen)?(0,a.jsx)(x.Ux,{}):null}},33222:function(e,t,i){var n=i(85893),s=i(67294),a=i(19521),l=i(44168),o=i(12595),c=i(69871),r=i(17689),d=i(72690),u=i(60601),C=i(45546),h=i(11163),f=i(29496),m=i(41248),v=i(47689);t.Z=e=>{let{isOpen:t,onRequestClose:i,footerElement:a}=e,u=(0,m.I0)(),Z=(0,h.useRouter)(),g=(0,m.v9)(e=>e.notifications),{enqueueSnackbar:p}=(0,f.Ds)(),[x,S]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t&&i()},[Z]),(0,n.jsx)(l.Z,{isOpen:t,onRequestClose:i,isFullScreen:!0,children:(0,n.jsxs)(I,{children:[(0,n.jsx)(o.Z,{contentLeft:(0,n.jsx)(c.Z,{className:"headerIcon",height:"2rem",width:"2rem",onClick:i}),contentCenter:(0,n.jsx)("p",{className:"bolded",children:"Notifications"}),contentRight:(0,n.jsx)(r.Z,{text:"Mark all read",variant:"text-dark",size:"small",onClick:async()=>{S(!0),await (0,v.Z)({dispatch:u,shouldMarkAllAsRead:!0,allNotifications:g.notifications}),S(!1),p("Notifications successfully marked as read",{variant:"success",anchorOrigin:{horizontal:"left",vertical:"bottom"}})},disabled:x,disabledVariant:"transparent"})}),(0,n.jsx)(d.Z,{isPadded:!1,isFullScreen:!0,children:(0,n.jsx)("div",{className:"mainModalContent",children:(0,n.jsx)(C.Z,{className:"notificationsList",isVisible:t})})}),!!a&&a]})})};let I=a.ZP.div.withConfig({componentId:"sc-d3eabfe-0"})([".headerIcon{cursor:pointer;}.bolded{font-weight:",";}.mainModalContent{height:100%;padding-bottom:2.25rem;}"],u.Z.WEIGHTS.BOLD)},34239:function(e,t){t.Z={COMMISSION_MODAL:{DETAILS:{NAME:"Details",SLUG:"details"},FINAL_DELIVERY:{NAME:"Final delivery",SLUG:"final-delivery"},REVIEW:{NAME:"Review",SLUG:"review"}},MOBILE_FOOTER_PROFILE:{NOTIFICATIONS:"NOTIFICATIONS",CHATS:"CHATS",ACCOUNT:"ACCOUNT"},MOBILE_FOOTER_CREATOR:{NOTIFICATIONS:"NOTIFICATIONS",CHATS:"CHATS",MORE:"MORE"},PRODUCT_MODAL:{DETAILS:{NAME:"Details",SLUG:"details"},DELIVERABLES:{NAME:"Deliverables",SLUG:"deliverables"}}}},56882:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(91654),s=i(11661),a=i(86983);function l(e){let{userID:t}=(0,a.Z)()||{};t&&(0,n.Z)("/user/session").then(t=>{200===t.status&&e((0,s.K)({user:t.body}))})}}}]);