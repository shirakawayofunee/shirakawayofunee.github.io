"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{97266:function(e,i,r){var t=r(85893),a=r(15948);i.Z=e=>{let{className:i,droppableId:r,items:n,getComponentFromItem:o,itemIdKey:s,reorderItem:c,direction:d,handleOnDragEnd:l,getDraggableIdFromItem:m,itemContainerClassName:h}=e;return(0,t.jsx)(a.Z5,{onDragEnd:l||(e=>{e.destination&&e.source.index!==e.source.destination&&c({sourceIndex:e.source.index,destinationIndex:e.destination.index})}),children:(0,t.jsx)(a.bK,{droppableId:r,direction:d,children:(e,r)=>(0,t.jsxs)("div",{className:i,ref:e.innerRef,...e.droppableProps,children:[n.map((e,i)=>(0,t.jsx)(a._l,{draggableId:m?m(e):e[s],index:i,children:a=>(0,t.jsx)("div",{className:h,ref:a.innerRef,...a.draggableProps,children:o({item:e,index:i,provided:a,snapshot:r})})},e[s])),e.placeholder]})})})}},81509:function(e,i,r){var t=r(85893);r(67294);var a=r(39070);i.Z=e=>{let{className:i,height:r=24,width:n=24,...o}=e;return(0,t.jsx)(a.Z,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:i,height:r,width:n,...o,children:(0,t.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM14 13V17H10V13H7L12 8L17 13H14Z"})})}},10885:function(e,i,r){r.r(i),r.d(i,{CONCEPT_MODAL_SECTION_ANCHORS:function(){return ej},default:function(){return ew}});var t=r(85893),a=r(19521),n=r(44168),o=r(12595),s=r(10643),c=r(42219),d=r(87642),l=r(91018),m=r(17689),h=r(72690),p=r(66577),g=r(50411),u=r(71619),x=r(1609),C=r(12184),b=r(62945),f=r(7707),v=r(50403),I=r(41248),j=r(67294),Z=r(72544),y=r(86398),w=r(52355),L=r(76982),N=r(45792),D=r(97266),S=r(88554),T=r(40581),M=r(42027),R=r(55438),B=r(52400),E=r(11906),A=e=>{let{uploadImage:i,dispatchWithChanges:r}=e,a=(0,I.v9)(e=>e.characterConcept),n=(0,L.oG)(),o=e=>{1===a.body.references.length?r((0,N.wI)({referenceID:e,name:"",description:"",imgURL:"",credit:[]})):r((0,N._)({referenceID:e}))},s=async(e,t)=>{let a=await i(e.target.files[0],"concept-reference");e.target.value="",a&&r((0,N.wI)({referenceID:t,imgURL:a}))};return(0,t.jsxs)(k,{children:[(0,t.jsx)("div",{className:"scrollAnchor",id:ej.REFERENCES}),(0,t.jsx)(D.Z,{className:"referenceSectionContainers",droppableId:"droppableReferencesList",items:a.body.references,itemIdKey:"referenceID",itemContainerClassName:"accordionSectionContainer referenceSectionContainer",reorderItem:e=>r((0,N.KO)(e)),gap:"1rem",getComponentFromItem:e=>{let{item:i,provided:a}=e;return(0,t.jsxs)("div",{className:"referenceSection",children:[(0,t.jsxs)("div",{className:"referenceTopSection",children:[(0,t.jsx)("div",{style:{height:"3rem"},...a.dragHandleProps,children:(0,t.jsx)(S.Z,{className:"referenceTopSectionIcon rightBorder"})}),(0,t.jsx)(l.Z,{onClick:()=>o(i.referenceID),className:"referenceTopSectionIcon leftBorder"})]}),(0,t.jsxs)("div",{className:"referenceContent",children:[(0,t.jsx)(B.Z,{className:i.imgURL?"referenceImg":"referenceImgEmpty",imageURL:i.imgURL?i.imgURL:"/img/image-placeholder.webp",buttonPosition:"bottom-right-farther",onChange:e=>s(e,i.referenceID),onRemove:()=>r((0,N.wI)({referenceID:i.referenceID,imgURL:null})),showRemoveButton:!!i.imgURL}),(0,t.jsx)(T.Z,{className:"referenceInput",label:"Title",type:"text",labelSize:n?"large":"small",value:i.title,placeholder:"Add a title to your reference",onChange:e=>r((0,N.wI)({referenceID:i.referenceID,title:e.target.value}))}),(0,t.jsx)(T.Z,{className:"referenceInput",label:"Description",description:"Optional",isDescriptionInline:!0,type:"textarea",rows:4,labelSize:n?"large":"small",value:i.description,placeholder:"Write a brief description here",onChange:e=>r((0,N.wI)({referenceID:i.referenceID,description:e.target.value}))}),(0,t.jsx)(M.Z,{className:"referenceInput",description:"Give credit to the original artist.",size:n?"medium":"small",children:"Credit"}),(0,t.jsx)(E.Z,{variant:"credits",users:i.credits.map(e=>({...e,tag:e.title})),addButtonLabel:"Add credit",onAddUser:e=>{let{relation:t,user:a,...n}=e;r((0,N.vF)({referenceID:i.referenceID,userID:null==a?void 0:a.userID,user:a,title:t,...n}))},onDelete:e=>{r((0,N.vC)({referenceID:i.referenceID,index:e}))}})]})]})}}),(0,t.jsx)(m.Z,{text:"Add",className:"addRefButton",prefix:(0,t.jsx)(R.Z,{className:"plusIcon"}),variant:"secondary",size:"medium",onClick:()=>r((0,N.Vx)())})]})};let k=a.ZP.div.withConfig({componentId:"sc-907f30f5-0"})(["position:relative;.scrollAnchor{position:absolute;top:-4.5rem;@media (min-width:","){top:-5.5rem;}}.referenceSectionContainers{display:flex;flex-direction:column;.referenceSection{margin-bottom:0.5rem;@media (min-width:","){margin-bottom:1rem;}}}.accordionSectionContainer{&.referenceSectionContainer{margin-bottom:0.5rem;padding:0;@media (min-width:","){border:1px solid ",";border-radius:1.25rem;margin-bottom:1rem;}.referenceTopSection{align-items:center;border-bottom:1px solid ",";display:flex;flex-direction:row;justify-content:space-between;.referenceTopSectionIcon{cursor:pointer;height:1.5rem;fill:",";padding:0.75rem;width:1.5rem;&.leftBorder{border-left:1px solid ",";}&.rightBorder{border-right:1px solid ",";}}}.referenceContent{padding:1rem;@media (min-width:","){padding:1.5rem 1.5rem 1.5rem 1rem;}}}}.addRefButton{margin-top:0.5rem;margin-bottom:0.5rem;.plusIcon{height:1.25rem;fill:",";margin-top:0;margin-right:0.375rem;width:1.25rem;}}.referenceInput{margin-top:1.125rem;@media (min-width:","){margin-top:1.75rem;}}.referenceImg{width:100%;}.referenceImgEmpty{width:100%;@media (min-width:","){width:17rem;}}"],y.Z.MD,y.Z.MD,y.Z.MD,Z.Z.GRAY_LIGHT,Z.Z.GRAY_LIGHT,Z.Z.BLACK_LIGHTER,Z.Z.GRAY_LIGHT,Z.Z.GRAY_LIGHT,y.Z.MD,Z.Z.WHITE,y.Z.MD,y.Z.MD);var G=r(15751),_=e=>{let{dispatchWithChanges:i}=e,r=(0,I.v9)(e=>e.characterConcept);return(0,t.jsxs)(H,{children:[(0,t.jsx)("div",{className:"scrollAnchor",id:ej.DETAILS}),(0,t.jsx)(G.Z,{placeholder:"Type your message...",onEditCallback:e=>i((0,N.TG)({details:e})),value:r.body.details,minHeight:"10rem"})]})};let H=a.ZP.div.withConfig({componentId:"sc-edf87efa-0"})(["position:relative;.scrollAnchor{position:absolute;top:-4.5rem;@media (min-width:","){top:-5.5rem;}}"],y.Z.MD);var P=e=>{let{dispatchWithChanges:i}=e,r=(0,I.v9)(e=>e.characterConcept),a=e=>{1===r.body.palette.length?i((0,N.ps)({colorID:e,name:"",hexCode:""})):i((0,N.S)({colorID:e}))};return(0,t.jsxs)(W,{children:[(0,t.jsx)("div",{className:"scrollAnchor",id:ej.PALETTE}),(0,t.jsx)(D.Z,{className:"paletteSectionContainers",droppableId:"droppablePaletteSectionsList",items:r.body.palette,itemIdKey:"colorID",reorderItem:e=>i((0,N.W1)(e)),getComponentFromItem:e=>{var r;let{item:n,provided:o}=e;return(0,t.jsxs)(U,{hexCode:n.hexCode,children:[(0,t.jsx)("div",{className:"colorIconContainer rightPadding",...o.dragHandleProps,children:(0,t.jsx)(S.Z,{className:"colorIcon"})}),(0,t.jsx)("div",{className:"colorViewerContainer"}),(0,t.jsxs)("div",{className:"colorInputContainer",children:[(0,t.jsx)(p.Z,{className:"colorInputLabel",variant:"Light/XS",colour:Z.Z.BLACK_LIGHTEST_2,children:"Name"}),(0,t.jsx)(T.Z,{className:"colorNameInput",type:"text",placeholder:"e.g. hair color",value:n.name,onChange:e=>{i((0,N.ps)({colorID:n.colorID,name:e.target.value}))}}),(0,t.jsx)(p.Z,{className:"colorInputLabel",variant:"Light/XS",colour:Z.Z.BLACK_LIGHTEST_2,children:"Color (hex code)"}),(0,t.jsx)(T.Z,{type:"text",prefix:"#",placeholder:"XXXXXX",value:null===(r=n.hexCode)||void 0===r?void 0:r.replace("#",""),onChange:e=>{let r=e.target.value.replace(/[^0-9A-F]/gi,"").toUpperCase().slice(0,6);i((0,N.ps)({colorID:n.colorID,hexCode:"#".concat(r)}))}})]}),(0,t.jsx)("div",{className:"colorIconContainer leftPadding",onClick:()=>a(n.colorID),children:(0,t.jsx)(l.Z,{className:"colorIcon"})})]})}}),(0,t.jsx)(m.Z,{text:"Add",className:"addColorButton",prefix:(0,t.jsx)(R.Z,{className:"plusIcon"}),variant:"secondary",size:"medium",onClick:()=>i((0,N.cL)())})]})};let U=a.ZP.div.withConfig({componentId:"sc-600882b5-0"})(["align-items:center;border:1px solid ",";border-radius:1.25rem;display:flex;flex-direction:row;margin-bottom:0.5rem;padding:1rem 0.75rem;@media (min-width:","){margin-bottom:1rem;}.colorIconContainer{align-items:center;cursor:pointer;display:flex;justify-content:center;height:100%;&.rightPadding{padding-right:0.5rem;}&.leftPadding{padding-left:0.5rem;}.colorIcon{height:1.5rem;fill:",";width:1.5rem;}}.colorViewerContainer{align-self:stretch;border:1px solid ",";border-radius:0.75rem;width:3rem;@media (min-width:","){width:6rem;}","}.colorInputContainer{display:flex;flex-direction:column;flex-grow:1;margin:0.1875rem 0.5rem 0.5rem 1rem;.colorInputLabel{margin-bottom:0.1875rem;}.colorNameInput{margin-bottom:0.6875rem;}}"],Z.Z.GRAY_LIGHT,y.Z.MD,Z.Z.BLACK_LIGHTER,Z.Z.GRAY_LIGHT,y.Z.MD,e=>e.hexCode&&7===e.hexCode.length?"\n                    background: ".concat(e.hexCode,";\n                "):"\n            background: repeating-conic-gradient(".concat(Z.Z.GRAY_LIGHT," 0% 25%, transparent 0% 50%) 50% / 16px 16px;\n            background-position:\n                0 0,\n                8px 0,\n                8px -8px,\n                0 8px;\n        ")),W=a.ZP.div.withConfig({componentId:"sc-600882b5-1"})(["position:relative;.scrollAnchor{position:absolute;top:-4.5rem;@media (min-width:","){top:-5.5rem;}}.paletteSectionContainers{display:flex;flex-direction:column;margin-top:1.25rem;@media (min-width:","){margin-top:0;}}.addColorButton{margin-top:0.5rem;margin-bottom:0.5rem;.plusIcon{height:1.25rem;fill:",";margin-top:0;margin-right:0.375rem;width:1.25rem;}}"],y.Z.MD,y.Z.MD,Z.Z.WHITE);var O=r(49421),K=r(84504);let z=Object.freeze(["2d","3d","vtuber","mv","streaming","game"]);var F=e=>{let{dispatchWithChanges:i}=e,r=(0,I.v9)(e=>e.character),a=(0,I.v9)(e=>e.characterConcept),n=(0,L.oG)();return(0,t.jsxs)(V,{children:[(0,t.jsx)("div",{className:"scrollAnchor",id:ej.OVERVIEW}),(0,t.jsxs)("div",{className:"accordionSectionContainer",children:[(0,t.jsx)(T.Z,{type:"text",label:"Concept Name",labelSize:n?"large":"small",value:a.body.displayName,onChange:e=>i((0,N.Rd)({displayName:e.target.value}))}),(0,t.jsxs)("div",{className:"linkContainer",children:[(0,t.jsx)(c.Z,{height:"1rem",width:"1rem",fill:Z.Z.BLACK_LIGHTEST_2}),(0,t.jsx)(p.Z,{variant:"Text/S - Light",colour:Z.Z.BLACK_LIGHTEST_2,children:(0,K.Z)(r.body.slug,a.body.slug)})]}),(0,t.jsx)(p.Z,{className:"taglineLabel",variant:n?"Medium/M":"Medium/S",colour:Z.Z.BLACK_LIGHT,children:"Tagline"}),(0,t.jsxs)("div",{className:"taglineContainer",children:[(0,t.jsx)(C.Z,{className:"taglineInput",cornerStyle:"rounded",size:"large",choices:Object.keys(N.Pb.TAGLINE_LABELS).map(e=>({label:N.Pb.TAGLINE_LABELS[e],value:N.Pb.TAGLINE_LABELS[e]})),selected:a.body.taglineLabel,onChange:e=>i((0,N.bt)({taglineLabel:e.target.value}))}),(0,t.jsx)(T.Z,{type:"text",className:"taglineInput",value:a.body.tagline,onChange:e=>i((0,N.rF)({tagline:e.target.value})),placeholder:"Write tagline"})]}),(0,t.jsx)(T.Z,{className:"introductionInput",type:"textarea",rows:4,label:"Introduction",labelSize:n?"large":"small",description:"Max 150 characters",isDescriptionInline:!0,descriptionProps:{variant:"Light/XS"},value:a.body.introduction,placeholder:"Write a brief description here",onChange:e=>i((0,N.UT)({introduction:e.target.value.substring(0,150)}))}),(0,t.jsx)(O.Z,{initialTags:a.body.searchTags,onChange:e=>i((0,N.Hr)({searchTags:e})),labelSize:n?void 0:"small",tagsToSuggest:z})]})]})};let V=a.ZP.div.withConfig({componentId:"sc-c7c1a00a-0"})(["position:relative;.scrollAnchor{position:absolute;top:-4.5rem;@media (min-width:","){top:-5.5rem;}}.linkContainer{align-items:center;display:flex;flex-direction:row;gap:0.375rem;margin:0.5rem 0 1.375rem;@media (min-width:","){margin:0.5rem 0 2rem;}}.taglineLabel{margin-bottom:0.625rem;@media (min-width:","){margin-bottom:0.75rem;}}.taglineContainer{display:flex;flex-direction:row;gap:0.5rem;margin-bottom:1.375rem;@media (min-width:","){margin-bottom:2rem;}.taglineInput{flex-basis:50%;flex-grow:1;}}.introductionInput{margin-bottom:0.875rem;@media (min-width:","){margin-bottom:1.5rem;}}"],y.Z.MD,y.Z.MD,y.Z.MD,y.Z.MD,y.Z.MD);var X=r(81509),Y=r(24285),q=r(60887),Q=r(45587),J=r(89229),$=r(69260),ee=r.n($),ei=r(8773);let er=e=>{let{moodBoardItem:i,index:r,dispatchWithChanges:a,isDisabled:n}=e,{attributes:o,listeners:s,setNodeRef:c,transform:d,transition:m}=(0,Q.nB)({id:i.moodBoardItemID}),h={transition:m,transform:Y.ux.Transform.toString(d)};return(0,t.jsxs)(en,{ref:c,style:h,imgURL:i.imgURL,children:[(0,t.jsx)("div",{className:"iconContainer",...!n&&o,...!n&&s,children:(0,t.jsx)(S.Z,{className:"moodBoardIcon"})}),n?(0,t.jsx)("div",{className:"loadingWrapper",children:(0,t.jsx)("div",{className:"loadingAnimationContainer",children:(0,t.jsx)(ee(),{animationData:J})})}):(0,t.jsx)("div",{className:"moodBoardImg"}),(0,t.jsx)("div",{className:"iconContainer",onClick:n?null:()=>a((0,N.Hx)({index:r})),children:(0,t.jsx)(l.Z,{className:"moodBoardIcon"})})]})};var et=e=>{let{dispatchWithChanges:i,uploadImage:r}=e,[a,n]=(0,j.useState)(!1),o=(0,I.v9)(e=>e.characterConcept),s=(0,ei.Z)(),c=(0,q.Dy)((0,q.VT)(q.we),(0,q.VT)(q.Lg,{coordinateGetter:Q.is})),d=e=>o.body.moodBoard.findIndex(i=>i.moodBoardItemID===e),l=async e=>{n(!0);let t=await r(e.target.files[0],"concept-mood-board");e.target.value="",t&&i((0,N.k9)({imgURL:t})),n(!1)};return(0,t.jsxs)(ea,{children:[(0,t.jsx)("div",{className:"scrollAnchor",id:ej.MOOD_BOARD}),(0,t.jsx)("input",{type:"file",id:s,onChange:l,hidden:!0}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",gap:"0.5rem"},children:[(0,t.jsx)(q.LB,{sensors:c,collisionDetection:q.pE,onDragEnd:e=>{let{active:r,over:t}=e;r.id!==t.id&&i((0,N.Fm)({sourceIndex:d(r.id),destinationIndex:d(t.id)}))},children:(0,t.jsx)(Q.Fo,{items:o.body.moodBoard.map(e=>e.moodBoardItemID),strategy:Q.U2,children:o.body.moodBoard.map((e,r)=>(0,t.jsx)(er,{moodBoardItem:e,index:r,dispatchWithChanges:i},e.moodBoardItemID))})}),a&&(0,t.jsx)(er,{moodBoardItem:{},index:o.body.moodBoard.length,dispatchWithChanges:i,isDisabled:!0})]}),(0,t.jsx)("div",{className:"btnContainer ".concat(o.body.moodBoard.length>0||a?"":"noTopMargin"),children:(0,t.jsx)(m.Z,{variant:"secondary",size:"medium",text:"Upload file",disabled:a,onClick:()=>document.getElementById(s).click(),prefix:(0,t.jsx)(X.Z,{height:"1rem",width:"1rem",fill:Z.Z.WHITE,style:{marginRight:"0.5rem"}})})})]})};let ea=a.ZP.div.withConfig({componentId:"sc-d2c72cd3-0"})(["margin-top:1.25rem;position:relative;@media (min-width:","){margin-top:0;}.scrollAnchor{position:absolute;top:-4.5rem;@media (min-width:","){top:-5.5rem;}}.moodBoardContainer{display:flex;flex-direction:row;flex-wrap:wrap;gap:0.5rem;margin-top:0.5rem;@media (min-width:","){flex-wrap:nowrap;gap:0.75rem;margin-top:1rem;}}.btnContainer{align-items:center;display:flex;flex-direction:row;gap:0.5rem;margin-top:0.75rem;@media (min-width:","){margin-top:1rem;}&.noTopMargin{margin-top:0;}}"],y.Z.MD,y.Z.MD,y.Z.MD,y.Z.MD),en=a.ZP.div.withConfig({componentId:"sc-d2c72cd3-1"})(["align-items:center;border:solid 1px ",";border-radius:1rem;display:flex;flex-direction:row;flex-grow:1;gap:0.5rem;max-width:10rem;padding:0.5rem;@media (min-width:","){border-radius:1.25rem;padding:0.75rem;}.moodBoardImg{aspect-ratio:1;background-image:url(",");background-size:cover;border-radius:0.75rem;flex-grow:1;min-height:4.46875rem;min-width:4.46875rem;@media (min-width:","){min-height:3.4375rem;min-width:3.4375rem;}}.loadingWrapper{position:relative;flex-grow:1;height:4.46875rem;min-height:4.46875rem;min-width:4.46875rem;@media (min-width:","){height:3.4375rem;min-height:3.4375rem;min-width:3.4375rem;}}.iconContainer{align-items:center;cursor:pointer;display:flex;justify-content:center;height:100%;.moodBoardIcon{height:1.5rem;fill:",";width:1.5rem;}}"],Z.Z.GRAY_LIGHT,y.Z.MD,e=>e.imgURL,y.Z.MD,y.Z.MD,Z.Z.BLACK_LIGHTER);var eo=r(91577),es=r(30423),ec=e=>{let{dispatchWithChanges:i}=e,r=(0,I.v9)(e=>e.characterConcept);return(0,t.jsxs)(ed,{id:ej.MUSIC,children:[(0,t.jsx)(T.Z,{className:"musicInputField",value:r.body.musicURL,onChange:e=>i((0,N.Wv)({musicURL:e.target.value})),placeholder:"Add a Spotify song link ",prefix:(0,t.jsx)(c.Z,{height:"1.25rem",width:"1.25rem",fill:Z.Z.BLACK}),onClickClearButton:()=>i((0,N.Wv)({musicURL:""}))}),r.body.musicURL&&(0,eo.lY)(r.body.musicURL)&&(0,t.jsx)(es.Z,{musicURL:r.body.musicURL})]})};let ed=a.ZP.div.withConfig({componentId:"sc-dde8f1e5-0"})([".musicInputField{margin-top:1rem;margin-bottom:0.5rem;}"]);var el=e=>{let{dispatchWithChanges:i}=e,r=(0,I.v9)(e=>e.characterConcept);return(0,t.jsxs)(em,{children:[(0,t.jsx)("div",{className:"scrollAnchor",id:ej.CREDIT}),(0,t.jsx)(E.Z,{variant:"credits",users:r.body.credits.map(e=>({...e,tag:e.title})),onAddUser:e=>{let{relation:r,user:t,...a}=e;i((0,N.f9)({userID:null==t?void 0:t.userID,user:t,title:r,...a}))},onDelete:e=>i((0,N.Px)({index:e}))})]})};let em=a.ZP.div.withConfig({componentId:"sc-d70f5306-0"})(["position:relative;.scrollAnchor{position:absolute;top:-4.5rem;@media (min-width:","){top:-5.5rem;}}"],y.Z.MD);var eh=r(93183),ep=r(91654),eg=r(41664),eu=r.n(eg),ex=r(46105),eC=r(11163),eb=r(906),ef=r(58142),ev=r(82608),eI=r(19404);let ej={OVERVIEW:"overview-section-anchor",REFERENCES:"references-section-anchor",DETAILS:"details-section-anchor",PALETTE:"palette-section-anchor",MOOD_BOARD:"mood-board-section-anchor",MUSIC:"music-section-anchor",CREDIT:"credit-section-anchor"},eZ=e=>{let{title:i,description:r,hasMobileTopDivider:a=!0,children:n}=e,o=(0,L.oG)();return(0,t.jsxs)(ey,{children:[a&&!o&&(0,t.jsx)(x.Z,{}),(0,t.jsx)(v.Z,{hasTopPadding:!1,hasMobileHorizontalPadding:!1,hasBottomPadding:!1,sections:[{id:i.toLowerCase().replace(" ","-"),title:(0,t.jsx)(p.Z,{variant:o?"Headline/S":"Subheader/XS",colour:o?Z.Z.BLACK_LIGHTER:Z.Z.BLACK,children:i}),description:r,content:(0,t.jsx)("div",{children:n}),isDefaultOpen:!0,showDescriptionOnlyWhenExpanded:!0}]})]})},ey=a.ZP.div.withConfig({componentId:"sc-644293bb-0"})(["@media (min-width:","){background-color:",";border-radius:2.5rem;padding:2rem 3rem;}.accordionSectionContainer{background-color:",";border-radius:1.25rem;padding:1.5rem 1rem;@media (min-width:","){border-radius:0;padding:0;}&:not(:last-child){margin-bottom:0.5rem;@media (min-width:","){margin-bottom:0;}}.detailsDescriptionMobile{margin-bottom:0.75rem;}}"],y.Z.MD,Z.Z.WHITE,Z.Z.WHITE,y.Z.MD,y.Z.MD);var ew=e=>{var i;let{isOpen:r,onRequestClose:a,changeSelectedConcept:v,scrollAnchor:y,clearScrollAnchor:D}=e,S=(0,eb.Z)(),T=(0,eC.useRouter)(),M=(0,L.oG)(),R=(0,I.v9)(e=>e.characterConcept),B=(0,I.v9)(e=>e.characterConcepts),E=(0,I.v9)(e=>e.character),k=(0,I.I0)(),[G,H]=(0,j.useState)(!1),[U,W]=(0,j.useState)(!1),[O,z]=(0,j.useState)(!1),[V,X]=(0,j.useState)(null);(0,j.useEffect)(()=>(k((0,N.Qk)()),0===R.body.references.length&&k((0,N.Vx)()),0===R.body.palette.length&&k((0,N.cL)()),y&&(setTimeout(()=>{let e=document.getElementById(y);e&&e.scrollIntoView({behavior:"smooth",offset:200})},450),D()),()=>{R.isNew&&k((0,N._R)()),k((0,N.Ox)())}),[]);let Y=e=>{k(e),H(!0)},q=async(e,i)=>{k((0,N.Ox)());let r=new FormData;r.append("media",e);let t=await (0,eh.Z)("/character/media",{file:r,uploadType:i,headers:{"x-vgen-character-id":E.body.characterID,"x-vgen-character-concept-id":R.body.characterConceptID}});return 200===t.status?t.body.mediaURL:(k((0,N.G5)({error:t.body.error})),!1)},Q=async()=>{let e=await (0,ep.Z)("/character/concept/".concat(R.body.characterConceptID),{body:{characterConceptID:R.body.characterConceptID},method:"DELETE"});200===e.status?(W(!1),v("all"),k((0,w.sR)({characterConceptID:R.body.characterConceptID})),a()):(k((0,N.G5)({error:e.body.error})),W(!1))},J=async e=>{let{isOverwrite:i}=e;if(z(!0),R.body.avatarURL){if(R.body.displayName){if("all"===R.body.slug){k((0,N.G5)({error:"Invalid concept name"})),z(!1);return}if(B.characterConcepts.some(e=>e.slug===R.body.slug&&e.characterConceptID!==R.body.characterConceptID)){k((0,N.G5)({error:"Concept name is already in use"})),z(!1);return}if(R.body.musicURL&&!(0,eo.lY)(R.body.musicURL)){k((0,N.G5)({error:"Invalid Spotify link"})),z(!1);return}else if(R.body.palette.some(e=>e.hexCode&&!(0,eo.KI)(e.hexCode))){k((0,N.G5)({error:"Invalid color hex"})),z(!1);return}}else{k((0,N.G5)({error:"Concept name is required"})),z(!1);return}}else{k((0,N.G5)({error:"Avatar is required"})),z(!1);return}if(!R.isNew&&!i){let e=await (0,ep.Z)("/character/".concat(E.body.characterID,"/").concat(R.body.characterConceptID));if(!e.ok){k((0,N.G5)({error:"Failed to save"})),z(!1);return}let i=e.body.characterConcept;if(i.modified&&i.modified!==R.body.modified){X({lastModified:i.modified,lastModifiedDisplayName:i.modifiedByDisplayName}),z(!1);return}}let r=await (0,ep.Z)(R.isNew?"/character/concept":"/character/concept/".concat(R.body.characterConceptID),{method:R.isNew?"POST":"PATCH",body:R.body});r.ok?(k((0,N.KZ)()),R.isNew?(k((0,w.o1)(r.body.characterConcept)),T.push((0,K.Z)(E.body.slug,r.body.characterConcept.slug))):(k((0,N.VT)({modified:r.body.characterConcept.modified})),k((0,w.jh)(r.body.characterConcept)),R.body.slug!==R.bodySnapshot.slug&&T.push((0,K.Z)(E.body.slug,r.body.characterConcept.slug))),a()):k((0,N.G5)({error:"Failed to save"})),z(!1)},$=()=>{k((0,N.ve)()),a()},ee=()=>(0,t.jsx)(eZ,{title:"References",children:(0,t.jsx)(A,{uploadImage:q,dispatchWithChanges:Y})});return(0,t.jsx)(n.Z,{isOpen:r,onRequestClose:$,maxContentWidth:"80rem",children:(0,t.jsxs)(eL,{avatarURL:R.body.avatarURL,children:[(0,t.jsx)(o.Z,{contentLeft:(0,t.jsx)(s.Z,{className:"headerIcon",height:"2rem",width:"2rem",onClick:$}),contentRight:(0,t.jsxs)("div",{className:"headerControls",children:[!R.isNew&&(0,t.jsx)("div",{className:"controlButton",onClick:e=>{e.stopPropagation(),S("".concat(ef.default.FRONT_END_URL).concat((0,K.Z)(E.body.slug,R.body.slug)),{message:"Character concept link"})},children:(0,t.jsx)(c.Z,{className:"inactiveIcon"})}),!R.isNew&&(0,t.jsx)("div",{className:"controlButton",onClick:()=>{k((0,N._M)(R.body))},children:(0,t.jsx)(d.Z,{className:"inactiveIcon"})}),!R.isNew&&(0,t.jsx)("div",{className:"controlButton",onClick:1!==B.characterConcepts.length?()=>W(!0):null,children:(0,t.jsx)(l.Z,{className:"inactiveIcon",fill:1!==B.characterConcepts.length?Z.Z.BLACK:Z.Z.BLACK_LIGHTEST_2})}),(0,t.jsx)(m.Z,{text:"Publish",onClick:J,disabled:!G||O})]})}),(0,t.jsxs)(h.Z,{isExtendedPadded:!0,children:[(0,t.jsx)(ex.Z,{heading:"Delete character concept?",subHeading:"This will permanently delete this concept.",confirmButtonLabel:"Delete concept",onConfirm:Q,onCancel:()=>W(!1),isOpen:U,onRequestClose:()=>W(!1)}),(0,t.jsx)(ev.Z,{isOpen:null!==V,onRequestClose:()=>X(null),onConfirm:()=>{X(null),J({isOverwrite:!0})},lastModified:null==V?void 0:V.lastModified,lastModifiedDisplayName:null==V?void 0:V.lastModifiedDisplayName}),(0,t.jsxs)("div",{className:"mainModalContent",children:[(0,t.jsxs)("div",{className:"sideColumn",children:[(0,t.jsxs)("div",{className:"sideColumnHeaderContainer",children:[(0,t.jsx)(eI.Z,{credits:R.body.avatarCredits,marginSize:"small",onSave:e=>{k((0,N.sE)({avatarCredits:e})),H(!0)},imageUploaderProps:{className:"avatarContainer",imageURL:R.body.avatarURL||"/img/character-avatar-placeholder.webp",buttonPosition:"center",imageSize:"cover",onChange:async e=>{let i=await q(e.target.files[0],"avatar");e.target.value="",Y((0,N.k8)({avatarURL:i}))}}}),(0,t.jsxs)("div",{className:"sideColumnHeaderGroup",children:[(0,t.jsxs)(eu(),{className:"baseCharacterLink",href:(0,K.Z)(E.body.slug),target:"_blank",children:[(0,t.jsx)(p.Z,{variant:"Medium/S",children:E.body.displayName}),(0,t.jsx)(g.Z,{height:"1rem",width:"1rem",colour:Z.Z.BLACK})]}),(0,t.jsx)(p.Z,{className:"characterName",variant:M?"Headline/L":"Subheader/L",colour:Z.Z.BLACK,children:R.body.displayName}),(0,t.jsx)(p.Z,{variant:M?"Headline/XS":"Light/S",colour:Z.Z.BLACK_LIGHTEST_2,children:"Character concept"})]})]}),(0,t.jsx)(u.Z,{variant:"error",message:R.alerts.error,onClose:()=>k((0,N.Ox)())}),(0,t.jsx)(x.Z,{}),(0,t.jsx)(C.Z,{className:"statusSelect",size:"large",optionFontWeight:"bold",selected:R.body.status,choices:Object.keys(N.Pb.STATUSES).map(e=>({label:"".concat(e),value:e})),onChange:e=>Y((0,N.SK)({status:e.target.value})),variant:R.body.status===N.Pb.STATUSES.PUBLISHED?"success":"primary",disabled:R.body.characterConceptID===E.body.defaultCharacterConceptID}),(0,t.jsx)(x.Z,{}),(0,t.jsx)(b.Z,{className:"containsMatureContentGroup",title:"Mark as Sensitive Content",description:"Not suitable for all audiences",content:(0,t.jsx)(f.Z,{checked:null!==(i=R.body.containsMatureContent)&&void 0!==i&&i,onChange:e=>Y((0,N.Yu)({containsMatureContent:e.target.checked})),variant:"dark"}),isPadded:!1}),(0,t.jsx)(x.Z,{})]}),(0,t.jsxs)("div",{className:"inputColumn",children:[(0,t.jsx)(eZ,{title:"Overview",description:(0,t.jsx)(p.Z,{variant:"Text/M - Light",colour:Z.Z.BLACK_LIGHTER,children:"Each concept is its own design, so make a new one for each outfit, debuts, or version of your character you’d like to keep track of!"}),hasMobileTopDivider:!1,children:(0,t.jsx)(F,{dispatchWithChanges:Y})}),M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eZ,{title:"Credit",description:(0,t.jsx)(p.Z,{variant:"Text/M - Light",colour:Z.Z.BLACK_LIGHTER,children:"Who do we have to thank for bringing this concept to life?"}),children:(0,t.jsx)("div",{className:"accordionSectionContainer",children:(0,t.jsx)(el,{dispatchWithChanges:Y})})}),ee(),(0,t.jsx)(eZ,{title:"Details",description:(0,t.jsx)(p.Z,{variant:"Text/M - Light",colour:Z.Z.BLACK_LIGHTER,children:"What’s the story behind this concept?"}),children:(0,t.jsx)("div",{className:"accordionSectionContainer",children:(0,t.jsx)(_,{dispatchWithChanges:Y})})}),(0,t.jsx)(eZ,{title:"Palette",children:(0,t.jsx)("div",{className:"accordionSectionContainer",children:(0,t.jsx)(P,{dispatchWithChanges:Y})})}),(0,t.jsx)(eZ,{title:"Mood board",children:(0,t.jsx)("div",{className:"accordionSectionContainer",children:(0,t.jsx)(et,{dispatchWithChanges:Y,uploadImage:q})})}),(0,t.jsx)(eZ,{title:"Music",children:(0,t.jsx)("div",{className:"accordionSectionContainer",children:(0,t.jsx)(ec,{dispatchWithChanges:Y})})})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(eZ,{title:"More",children:[(0,t.jsxs)("div",{className:"accordionSectionContainer",children:[(0,t.jsx)(p.Z,{variant:"Black/M",children:"Credit"}),(0,t.jsx)(p.Z,{className:"detailsDescriptionMobile",variant:"Text/S - Light",colour:Z.Z.BLACK_LIGHTEST_2,children:"Who do we have to thank for bringing this concept to life?"}),(0,t.jsx)(el,{dispatchWithChanges:Y})]}),ee(),(0,t.jsxs)("div",{className:"accordionSectionContainer",children:[(0,t.jsx)(p.Z,{variant:"Black/M",children:"Details"}),(0,t.jsx)(p.Z,{className:"detailsDescriptionMobile",variant:"Text/S - Light",colour:Z.Z.BLACK_LIGHTEST_2,children:"What's the story behind this concept?"}),(0,t.jsx)(_,{dispatchWithChanges:Y})]}),(0,t.jsxs)("div",{className:"accordionSectionContainer",children:[(0,t.jsx)(p.Z,{variant:"Black/M",children:"Palette"}),(0,t.jsx)(P,{dispatchWithChanges:Y})]}),(0,t.jsxs)("div",{className:"accordionSectionContainer",children:[(0,t.jsx)(p.Z,{variant:"Black/M",children:"Mood board"}),(0,t.jsx)(et,{dispatchWithChanges:Y,uploadImage:q})]}),(0,t.jsxs)("div",{className:"accordionSectionContainer",children:[(0,t.jsx)(p.Z,{variant:"Black/M",children:"Music"}),(0,t.jsx)(ec,{dispatchWithChanges:Y})]})]})})]})]})]})]})})};let eL=a.ZP.div.withConfig({componentId:"sc-644293bb-1"})([".headerIcon{cursor:pointer;}.headerControls{align-items:center;display:flex;.controlButton{cursor:pointer;margin-right:0.75rem;padding:0.375rem;user-select:none;-moz-user-select:none;-webkit-user-select:none;.inactiveIcon{height:1.25rem;width:1.25rem;}}}.mainModalContent{display:flex;flex-direction:column;margin:0 0 3rem;padding-top:0.25rem;position:relative;@media (min-width:","){flex-direction:row;margin:0 1rem 3rem;}.sideColumn{flex-grow:0;flex-shrink:0;@media (min-width:","){flex-basis:20.625rem;height:100%;width:20.625rem;margin-right:3rem;position:sticky;top:0.25rem;}.sideColumnHeaderContainer{align-items:center;display:flex;flex-direction:row-reverse;justify-content:space-between;gap:0.75rem;margin-top:0.125rem;margin-bottom:1.25rem;@media (min-width:","){align-items:stretch;flex-direction:column;justify-content:flex-start;gap:1.5rem;margin-top:0.25rem;margin-bottom:2.25rem;}.avatarContainer{border-radius:0.5rem;height:5.625rem;width:4.0625rem;@media (min-width:","){border-radius:0.75rem;height:8.75rem;width:6.25rem;}.avatarEditButton{position:absolute;top:0;right:-1.125rem;}}.sideColumnHeaderGroup{display:flex;flex-direction:column;gap:0.25rem;.baseCharacterLink{align-items:center;cursor:pointer;display:flex;flex-direction:row;gap:0.37rem;}.characterName{overflow-wrap:break-word;word-wrap:break-word;}}}.statusSelect{margin:1rem 0;@media (min-width:","){margin:1.5rem 0;}}.containsMatureContentGroup{margin:1.125rem 0 1.625rem;@media (min-width:","){margin:1.25rem 0;}}}.inputColumn{display:flex;flex-direction:column;flex-grow:1;gap:0;margin-top:0.25rem;padding-bottom:3rem;@media (min-width:","){gap:1rem;padding-bottom:1.5rem;}}}"],y.Z.MD,y.Z.MD,y.Z.MD,y.Z.MD,y.Z.MD,y.Z.MD,y.Z.MD)},84504:function(e,i,r){r.d(i,{Z:function(){return t}});function t(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{showcaseID:r="",createGalleryPiece:t=!1,editModalTab:a=""}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new URLSearchParams;r&&n.set("showcaseID",r),t&&n.set("createGalleryPiece","true"),a&&n.set("editModalTab",a);let o=n.size>0?"?".concat(n.toString()):"";return"/c/".concat(e).concat(i?"/".concat(i):"").concat(o)}}}]);