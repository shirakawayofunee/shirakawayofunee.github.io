"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{46432:function(e,t,n){n.d(t,{C2:function(){return a},CG:function(){return d},DQ:function(){return l},L1:function(){return f},MV:function(){return h},Ny:function(){return o},PI:function(){return r},WF:function(){return c},d3:function(){return i},h3:function(){return s},oy:function(){return u}});let i=e=>{let{notifications:t=[]}=e;return{type:"NOTIFICATIONS/POPULATE",notifications:t}},r=e=>{let{notifications:t=[]}=e;return{type:"NOTIFICATIONS/APPEND",notifications:t}},o=e=>{let{hasUnread:t=!1}=e;return{type:"NOTIFICATIONS/HAS-UNREAD",hasUnread:t}},a=e=>{let{notificationIDs:t=[]}=e;return{type:"NOTIFICATIONS/MARK-READ",notificationIDs:t}},s=e=>{let{activeCategory:t="All"}=e;return{type:"NOTIFICATIONS/ACTIVE-CATEGORY",activeCategory:t}},l=function(){let{creationCutoffDate:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"NOTIFICATIONS/UPDATE-CUT-OFF-DATE",creationCutoffDate:e}},c=e=>{let{requestMoreNotifications:t=!1}=e;return{type:"NOTIFICATIONS/REQUEST-MORE-NOTIFICATIONS",requestMoreNotifications:t}},d=e=>{let{noMoreNotifications:t=!1}=e;return{type:"NOTIFICATIONS/NO-MORE-NOTIFICATIONS",noMoreNotifications:t}},u=e=>{let{lastReadNotification:t=0}=e;return{type:"NOTIFICATIONS/LAST-READ-NOTIFICATION",lastReadNotification:t}},h=e=>{let{lastVisibleNotification:t=0}=e;return{type:"NOTIFICATIONS/LAST-VISIBLE-NOTIFICATION",lastVisibleNotification:t}},f=()=>({type:"NOTIFICATIONS/CLEAR"})},70113:function(e,t,n){var i=n(85893),r=n(19521),o=n(17634),a=n(11402),s=n(29518),l=n(28086),c=n(58142),d=n(72544),u=n(66577),h=n(94409);let f=r.ZP.div.withConfig({componentId:"sc-88665039-0"})([".themeSelector{margin-bottom:1.5rem;.option{padding-right:0.5rem;padding-left:0.5rem;}}.socials{display:flex;> *{padding:0.375rem;margin-right:0.5rem;&:last-child{margin-right:0rem;}}.socialIcon{cursor:pointer;fill:",";height:1.25rem;width:1.25rem;}}ul.subLinks{margin-top:1rem;li{padding:0.5rem 0rem;a.noLinkStyling{&:hover{text-decoration:none;}}}}"],d.Z.BLACK);t.Z=()=>(0,i.jsxs)(f,{children:[(0,i.jsx)(h.Z,{className:"themeSelector"}),(0,i.jsxs)("div",{className:"socials",children:[(0,i.jsx)("a",{href:c.default.SOCIAL_TWITTER_LINK,target:"_blank",children:(0,i.jsx)(o.Z,{className:"socialIcon"})}),(0,i.jsx)("a",{href:c.default.SOCIAL_DISCORD_LINK,target:"_blank",children:(0,i.jsx)(a.Z,{className:"socialIcon"})}),(0,i.jsx)("a",{href:c.default.SOCIAL_TIKTOK_LINK,target:"_blank",children:(0,i.jsx)(s.Z,{className:"socialIcon"})}),(0,i.jsx)("a",{href:c.default.SOCIAL_INSTAGRAM_LINK,target:"_blank",children:(0,i.jsx)(l.Z,{className:"socialIcon"})})]}),(0,i.jsxs)("ul",{className:"subLinks",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:c.default.TERMS_OF_SERVICE_URL,target:"_blank",children:(0,i.jsx)(u.Z,{variant:"Light/S",colour:d.Z.BLACK_LIGHTEST_2,children:"Terms of service"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:c.default.PRIVACY_POLICY_URL,target:"_blank",children:(0,i.jsx)(u.Z,{variant:"Light/S",colour:d.Z.BLACK_LIGHTEST_2,children:"Privacy policy"})})})]})]})},45581:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(85893),r=n(67294),o=n(88368),a=n(19521),s=n(91654),l=n(24520),c=n(58142),d=n(60601),u=n(32546),h=n(86398);function f(e){let{artistID:t,avatarSize:n="xxxx-small",showIconButton:a=!1}=e,[d,u]=(0,r.useState)({avatarURL:"",username:""});return(0,r.useEffect)(()=>{t&&function(){try{(0,s.Z)("/user/avatar/".concat(t)).then(e=>{200===e.status&&u({avatarURL:e.body.avatarURL,username:e.body.username})})}catch(e){console.error("Failed to fetch artist details:",e)}}()},[t]),(0,i.jsx)(m,{children:d.avatarURL&&d.username&&(0,i.jsx)("a",{href:"".concat(c.default.FRONT_END_URL,"/").concat(d.username),target:"_blank",rel:"noreferrer",children:a?(0,i.jsx)(l.Z,{size:"large",variant:"neutral",children:(0,i.jsx)(o.Z,{src:d.avatarURL,size:n})}):(0,i.jsxs)("div",{className:"artistCredit",children:[(0,i.jsx)(o.Z,{src:d.avatarURL,size:n}),(0,i.jsx)("p",{className:"username",children:"@".concat(d.username)})]})})})}let m=a.ZP.div.withConfig({componentId:"sc-a2bb3735-0"})([".artistCredit{align-items:center;background-color:",";border-radius:1.25rem;display:flex;padding:0.375rem;.username{color:",";display:none;font-size:",";font-weight:",";line-height:1rem;margin-left:0.375rem;@media (min-width:","){display:block;}}}"],u.Z.WHITE_LIGHTEST_0,u.Z.WHITE,d.Z.BODY_SIZES.S,d.Z.WEIGHTS.BOLD,h.Z.MD)},78082:function(e,t,n){var i=n(85893);n(67294);var r=n(19521),o=n(86398),a=n(72544),s=n(60601),l=n(17689),c=n(34236);t.Z=e=>{let{className:t,genieVariant:n="LOOK",title:r,description:o,buttonText:a,buttonLinkURL:s,buttonOnClick:u,...h}=e;return(0,i.jsx)(d,{className:t,...h,children:(0,i.jsxs)("div",{className:"emptyStateContainer",children:[(0,i.jsx)(c.Z,{variant:n}),(0,i.jsxs)("div",{className:"emptyStateText",children:[(0,i.jsx)("p",{className:"title",children:r}),o&&(0,i.jsx)("p",{className:"description",children:o})]}),a&&s?(0,i.jsx)("a",{href:s,children:(0,i.jsx)(l.Z,{className:"emptyStateButton",text:a,variant:"secondary"})}):a?(0,i.jsx)(l.Z,{className:"emptyStateButton",text:a,variant:"secondary",...u&&{onClick:u}}):null]})})};let d=r.ZP.div.withConfig({componentId:"sc-6e46b8aa-0"})([".emptyStateContainer{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%;.emptyStateText{max-width:31.25rem;> *{margin-bottom:0.25rem;&:last-child{margin-bottom:0;}}> .title{color:",";font-size:",";font-weight:",";line-height:1.875rem;text-align:center;}> .description{color:",";font-size:",";font-weight:",";line-height:1.25rem;text-align:center;@media (min-width:","){font-size:",";line-height:1.5rem;}}}.emptyStateButton{margin-top:1.25rem;}}"],a.Z.BLACK,s.Z.SUBHEADING_SIZES.S,s.Z.WEIGHTS.BLACK,a.Z.BLACK_LIGHT,s.Z.BODY_SIZES.S,s.Z.WEIGHTS.MEDIUM,o.Z.MD,s.Z.BODY_SIZES.L)},34236:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(85893),r=n(25675),o=n.n(r),a=n(86442),s=n(86398),l=n(19521),c=n(45581);function d(e){let{alt:t,className:n,variant:r,height:o,width:s,artistLinkPosition:l="bottomRight"}=e,d=a.Z[r];return(0,i.jsxs)(h,{className:n,height:o,width:s,children:[(0,i.jsx)(f,{src:d.src,fill:!0,alt:t||d.alt}),(0,i.jsx)(u,{position:l,children:(0,i.jsx)(c.Z,{artistID:d.userID,showIconButton:!0})})]})}let u=l.ZP.div.withConfig({componentId:"sc-92477e14-0"})(["position:absolute;",""],e=>{let{position:t}=e;return"bottomRight"===t?"\n                bottom: 0;\n                right: 0;\n            ":"bottomLeft"===t?"\n                bottom: 0;\n                left: 0;\n            ":void 0}),h=l.ZP.div.withConfig({componentId:"sc-92477e14-1"})(["height:10rem;position:relative;width:10rem;@media (min-width:","){height:12.5rem;width:12.5rem;","}",""],s.Z.MD,e=>e.height&&e.width&&"\n            height: ".concat(e.height,";\n            width: ").concat(e.width,";\n        "),e=>e.height&&e.width&&"\n            height: ".concat(e.height,";\n            width: ").concat(e.width,";\n        ")),f=(0,l.ZP)(o()).withConfig({componentId:"sc-92477e14-2"})(["height:100%;width:100%;"])},65522:function(e,t,n){var i=n(85893),r=n(67294),o=n(19521),a=n(69871),s=n(24520),l=n(10643),c=n(43977),d=n(86398),u=n(72544),h=n(60601),f=n(32546),m=n(41664),g=n.n(m);let p="large";t.Z=e=>{let{className:t,filters:n=[],activeFilter:o,filtersPrefixes:d=[],variant:h="outline",centerControls:m=!1,isActiveFilterFirst:p=!0,spaceBetweenFilters:v,onFilterToggle:I,isFilteredOnHover:b=!1,isFixedColour:C=!1,size:N}=e,[w,L]=(0,r.useState)(!1),[A,Z]=(0,r.useState)(!1),[T,S]=(0,r.useState)(null),y=(0,r.useRef)(null),E=(0,r.useRef)(null),j=C?f.Z:u.Z;(0,r.useEffect)(()=>{if(O(),!y.current)return;y.current.addEventListener("scroll",O);let e=new ResizeObserver(()=>{O()});return e.observe(y.current),()=>{e.disconnect(),y.current&&y.current.removeEventListener("scroll",O)}},[]),(0,r.useEffect)(()=>{O()},[o]),(0,r.useEffect)(()=>{if(null!=T){let e=E.current.scrollWidth,t=Math.ceil(y.current.getBoundingClientRect().width),n=0;"NEXT"===T?n=y.current.scrollLeft+parseInt(t-120):"PREVIOUS"===T&&(n=y.current.scrollLeft-parseInt(t-120)),n<0&&(n=0),n+t>=e&&(n=e-t),y.current.scroll({top:0,left:n,behavior:"smooth"}),S(null)}},[T]);let O=()=>{var e,t,n,i;let r=null===(e=E.current)||void 0===e?void 0:e.scrollWidth,o=Math.ceil(null===(t=y.current)||void 0===t?void 0:t.getBoundingClientRect().width);(null===(n=y.current)||void 0===n?void 0:n.scrollLeft)>0?L(!0):L(!1),o+(null===(i=y.current)||void 0===i?void 0:i.scrollLeft)<r?Z(!0):Z(!1)},D=e=>()=>{I(e)},B=e=>()=>{o!==e&&e?I(e):I("")},R=e=>()=>{S(e)};return(0,i.jsxs)(x,{className:t,hasMoreLeftContent:w,hasMoreRightContent:A,spaceBetweenFilters:v,variant:h,Colours:j,size:N,centerControls:m,children:[d.length>0&&(0,i.jsx)("div",{className:"filtersPrefixes",showBorder:(null==n?void 0:n.length)>0,children:d.map((e,t)=>e?(0,i.jsx)("div",{className:"filtersPrefix",children:e},t):null)}),(null==n?void 0:n.length)>0&&(0,i.jsxs)("div",{className:"filtersContainer",children:[p&&o&&(0,i.jsx)("ul",{className:"activeFilterItemContainer",children:(0,i.jsxs)("li",{className:"filterMenuLink active",onClick:B(),children:[(0,i.jsx)("span",{children:o}),(0,i.jsx)(a.Z,{className:"activeFilterIcon"})]})}),(0,i.jsxs)("div",{className:"filtersAndControls",children:[(0,i.jsxs)("div",{className:"arrowButtonContainer leftArrow",children:[(0,i.jsx)("div",{className:"arrowButton",children:(0,i.jsx)(s.Z,{size:"x-large",variant:"neutral",onClick:R("PREVIOUS"),children:(0,i.jsx)(l.Z,{className:"arrowButtonIcon"})})}),(0,i.jsx)("div",{className:"gradientBackground"})]}),(0,i.jsxs)("div",{className:"arrowButtonContainer rightArrow",children:[(0,i.jsx)("div",{className:"gradientBackground"}),(0,i.jsx)("div",{className:"arrowButton",children:(0,i.jsx)(s.Z,{size:"x-large",variant:"neutral",onClick:R("NEXT"),children:(0,i.jsx)(c.Z,{className:"arrowButtonIcon"})})})]}),(0,i.jsx)("div",{className:"filterMenuContainer",ref:y,children:(0,i.jsx)("ul",{className:"filterMenuLinks",ref:E,children:n.map(e=>{let t,n;if("string"==typeof e?t=e:(t=e.value,n=e.href),!p||o!==t){let e=(0,i.jsx)("li",{className:"filterMenuLink".concat(o===t?" active":""),onClick:b?null:B(t),onMouseOver:b?D(t):null,children:t},t);return n&&(0,i.jsx)(g(),{href:n,children:e})||e}})})})]})]})]})};let x=o.ZP.div.withConfig({componentId:"sc-c277d599-0"})(["display:flex;flex-direction:column;width:100%;@media (min-width:","){align-items:center;flex-direction:row;}.filtersPrefixes{column-gap:0.5rem;display:flex;flex-shrink:0;margin:0rem 0rem 0.5rem 0rem;overflow:auto;padding-right:0.75rem;scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}@media (min-width:","){",";margin:0rem 0.75rem 0rem 0rem;overflow:visible;}.filtersPrefix{flex-shrink:0;}}.filtersContainer{display:flex;@media (min-width:","){width:100%;}.filtersAndControls{position:relative;width:100%;}.arrowButtonContainer{display:none;position:absolute;z-index:2;&.leftArrow{left:0;padding-right:0.75rem;"," .gradientBackground{background:linear-gradient( 270deg,rgba(248,247,248,0) 0%,"," 90% );right:0;}}&.rightArrow{right:0;padding-left:0.75rem;"," .gradientBackground{background:linear-gradient( 90deg,rgba(248,247,248,0) 0%,"," 90% );left:0;}}@media (min-width:","){display:initial;}.gradientBackground{bottom:0;position:absolute;top:0;width:0.75rem;}.arrowButton{background-color:",";}.arrowButtonIcon{fill:",";height:1.25rem;width:1.25rem;}}.activeFilterItemContainer{height:2.25rem;margin-right:8px;}.filterMenuContainer{flex-grow:1;flex-shrink:0;height:2.25rem;overflow-x:auto;position:relative;scrollbar-width:none;-ms-overflow-style:none;"," &::-webkit-scrollbar{display:none;}@media (min-width:","){flex-basis:0;width:100%;}.filterMenuLinks{display:flex;height:100%;position:absolute;transition:left 0.7s ease-in-out;}","}.filterMenuLink{align-items:center;border:1px solid ",";border-radius:2rem;box-sizing:border-box;color:",";cursor:pointer;display:flex;font-size:",";font-weight:",";height:100%;line-height:1rem;margin-left:0.5rem;padding:0.625rem 0.875rem;text-decoration:none;transition:background-color 0.3s,color 0.3s;user-select:none;-moz-user-select:none;-webkit-user-select:none;white-space:nowrap;"," "," "," &:hover{color:",";text-decoration:none;transition:color 0.3s;}&:first-child{margin-left:0rem;}&.active{transition:background-color 0.3s,color 0.3s;.activeFilterIcon{height:1.25rem;margin-left:0.375rem;width:1.25rem;}","}}}"],d.Z.MD,d.Z.MD,e=>e.showBorder&&"border-right: 1px solid ".concat(e.Colours.GRAY_LIGHT),d.Z.MD,e=>!e.hasMoreLeftContent&&"display: none;",e=>e.Colours.GRAY_LIGHTER,e=>!e.hasMoreRightContent&&"display: none;",e=>e.Colours.GRAY_LIGHTER,d.Z.MD,e=>e.Colours.GRAY_LIGHTER,e=>e.Colours.BLACK,e=>{if(e.centerControls)return"\n                        @media (min-width: ".concat(d.Z.LG,") {\n                            display: flex;\n                            justify-content: center;\n                        }\n                    ")},d.Z.MD,e=>{if(e.size===p)return"\n                        height: 2.75rem;\n                    "},e=>e.Colours.GRAY,e=>e.Colours.BLACK_LIGHTER,h.Z.BODY_SIZES.S,h.Z.WEIGHTS.BOLD,e=>e.spaceBetweenFilters&&"margin-left: ".concat(e.spaceBetweenFilters,";"),e=>{let{Colours:t}=e;return"transparent"===e.variant?"\n                        background-color: ".concat(t.TRANSPARENT,";\n                        border: none;\n                        color: ").concat(t.BLACK_LIGHTER,";\n                        \n                        .activeFilterIcon {\n                            fill: ").concat(t.BLACK_LIGHTER,";\n                        }\n                    "):"neutral-solid"===e.variant?"\n                            background-color: ".concat(t.BLACK_LIGHTEST_0,";\n                            border: none;\n                            color: ").concat(t.BLACK,";\n                            \n                            .activeFilterIcon {\n                                fill: ").concat(t.BLACK,";\n                            }\n                        "):"transparent-outline"===e.variant?"\n                            background-color: ".concat(t.BLACK_LIGHTEST_0,";\n                            border: 2px solid transparent;\n                            color: ").concat(t.BLACK,";\n                            \n                            .activeFilterIcon {\n                                fill: ").concat(t.BLACK,";\n                            }\n                        "):void 0},e=>{if(e.size===p)return"\n                        font-size: ".concat(h.Z.BODY_SIZES.L,";\n                        height: 2.75rem;\n                        padding: 0rem 1.25rem;\n                    ")},e=>e.Colours.BLACK,e=>{let{Colours:t}=e;return"outline"===e.variant?"\n                            border: 2px solid ".concat(t.BLACK,";\n                            color: ").concat(t.BLACK,";\n                            padding: 0.625rem 0.5rem 0.625rem 0.875rem;\n                            \n                            .activeFilterIcon {\n                                fill: ").concat(t.BLACK,";\n                            }\n                        "):"transparent-outline"===e.variant?"\n                            border: 2px solid ".concat(t.BLACK,";\n                            color: ").concat(t.BLACK,";\n                            \n                            .activeFilterIcon {\n                                fill: ").concat(t.BLACK,";\n                            }\n                        "):"solid"===e.variant?"\n                            background-color: ".concat(t.BLACK,";\n                            border: none;\n                            color: ").concat(t.WHITE,";\n                            \n                            .activeFilterIcon {\n                                fill: ").concat(t.WHITE,";\n                            }\n                        "):"neutral-solid"===e.variant?"\n                            background-color: ".concat(t.BLACK_LIGHTEST_1,";\n                            border: none;\n                            color: ").concat(t.BLACK,";\n                            \n                            .activeFilterIcon {\n                                fill: ").concat(t.BLACK,";\n                            }\n                        "):"transparent"===e.variant?"\n                            border: none;\n                            color: ".concat(t.BLACK,";\n                            \n                            .activeFilterIcon {\n                                fill: ").concat(t.BLACK,";\n                            }\n                        "):void 0})},94409:function(e,t,n){var i=n(85893),r=n(19521),o=n(197),a=n(49774),s=n(32581),l=n(78561),c=n(4338),d=n(28298);let u=r.ZP.div.withConfig({componentId:"sc-3cafba8d-0"})([".inputContainer{padding:0.25rem 0.5rem;}.option{align-items:center;display:flex;flex-direction:column;justify-content:center;margin:0;padding-right:0.5rem;padding-left:0.5rem;}.title{width:4rem;}.themeIcon{height:1rem;width:1rem;}"]);t.Z=e=>{let{className:t}=e,{_theme:n,setTheme:r}=(0,o.TC)();return(0,i.jsx)(u,{className:t,children:(0,i.jsx)(a.Z,{choices:[{icon:n===o.yU.LIGHT?s.Z:l.Z,value:o.yU.LIGHT},{icon:n===o.yU.DARK?c.Z:d.Z,value:o.yU.DARK},{title:"System",value:void 0}],selected:n,onChange:e=>r(e.target.value?e.target.value:void 0),variant:"secondary",cornerStyle:"round-full",className:"toggle"})})}},52540:function(e,t,n){var i=n(85893),r=n(67294),o=n(41248),a=n(19521),s=n(92929),l=n(86398),c=n(72544),d=n(72143),u=n(60601),h=n(64527),f=n(34642);t.Z=e=>{let{className:t,isOpen:n=!1,inset:a,onRequestClose:s}=e,l=(0,o.I0)();return(0,r.useEffect)(()=>{n&&l((0,h.zy)({isMinimized:!0}))},[n]),(0,i.jsx)(m,{className:t,isOpen:n,inset:a,children:(0,i.jsxs)("div",{className:"menuContainer",children:[(0,i.jsxs)("div",{className:"contentSections",children:[(0,i.jsx)("div",{className:"upper",children:(0,i.jsx)("h3",{className:"heading",children:"Messages"})}),n&&(0,i.jsx)(f.Bt,{})]}),(0,i.jsx)("div",{className:"expandedNavOverlay",onClick:s})]})})};let m=a.ZP.div.withConfig({componentId:"sc-84c4a9eb-0"})(["position:relative;.noLinkStyling{text-decoration:none;}.menuContainer{height:37.5rem;position:absolute;width:25.5rem;z-index:",";@media (min-width:","){height:40.625rem;width:37.5rem;}"," "," .contentSections{background-color:",";border-radius:2.5rem 0.25rem 2.5rem 2.5rem;box-sizing:border-box;display:flex;filter:drop-shadow(",");flex-direction:column;height:100%;overflow:hidden;padding-top:1rem;position:absolute;width:100%;z-index:",";.upper{flex-shrink:0;padding:0rem 1.5rem 0rem 1.5rem;> h3.heading{color:",";font-size:",";font-weight:",";line-height:2.125rem;margin:0.75rem 0rem;}> .filters{margin:1.1875rem 0 1rem 0;}}.notificationsList{flex-grow:1;height:calc(100% - 3.625rem);padding:0 0.5rem;}}}.expandedNavOverlay{height:9999px;margin-left:-100vw;margin-top:-100vh;position:absolute;width:9999px;z-index:1;}"],s.Z.MODALS,l.Z.XXL,e=>e.inset?"inset: ".concat(e.inset,";"):"\n                    inset: 0 0 auto auto;\n                ",e=>{if(!e.isOpen)return"display: none;"},c.Z.WHITE,d.Z.ELEVATION_2,s.Z.MODALS,c.Z.BLACK,u.Z.SUBHEADING_SIZES.L,u.Z.WEIGHTS.BLACK)},45546:function(e,t,n){var i=n(85893),r=n(67294),o=n(41248),a=n(19521),s=n(65522),l=n(78082),c=n(86398),d=n(91654),u=n(46432),h=n(71523),f=n(86983),m=n(34642),g=n(11163),p=n(47689);t.Z=function(e){let{className:t,isVisible:n}=e,[a,c]=(0,r.useState)(!1),[v,I]=(0,r.useState)(!1),b=(0,o.v9)(e=>e.session),C=(0,o.v9)(e=>e.notifications),N=(0,o.I0)(),w=(0,g.useRouter)(),L=(0,r.useRef)(null),A=(0,r.useRef)(null),Z=(0,r.useRef)(null),T={All:"ALL",Commissions:"ARTIST",Shop:"SHOP","My Requests":"MY_REQUESTS","My Orders":"MY_ORDERS",Updates:"UPDATES",Characters:"CHARACTERS",Challenges:"CHALLENGES"};(0,r.useEffect)(()=>(n?setTimeout(()=>{j(),L.current&&(L.current.addEventListener("scroll",y),L.current.addEventListener("scrollend",E),E(),I(!0))},400):(N((0,u.DQ)({})),N((0,u.h3)({activeCategory:"All"})),v&&A.current.every(e=>!e.isUnread)&&N((0,u.Ny)({hasUnread:!1}))),()=>{L.current&&(L.current.removeEventListener("scroll",y),L.current.removeEventListener("scrollend",E))}),[n]),(0,r.useEffect)(()=>{b.userID?S():N((0,u.L1)())},[b.userID]),(0,r.useEffect)(()=>{a&&c(!1)},[w.asPath]),(0,r.useEffect)(()=>{A.current=C.notifications},[C.notifications]),(0,r.useEffect)(()=>{Z.current=C.lastVisibleNotification;let e=C.notifications.slice(C.lastReadNotification>0?C.lastReadNotification+1:0,C.lastVisibleNotification).filter(e=>e.isUnread).map(e=>e.notificationID);e.length>0&&(0,p.Z)({dispatch:N,notificationsToMarkAsRead:e,allNotifications:C.notifications})},[C.lastVisibleNotification]),(0,r.useEffect)(()=>{C.requestMoreNotifications&&S({shouldAppend:!0})},[C.requestMoreNotifications]),(0,r.useEffect)(()=>{C.activeCategory||N((0,u.h3)({activeCategory:"All"})),S()},[C.activeCategory]);let S=function(){let{shouldAppend:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(C.noMoreNotifications&&e)return;C.noMoreNotifications&&!e&&N((0,u.CG)({noMoreNotifications:!1})),e||(N((0,u.oy)({})),N((0,u.MV)({})));let t="/user/notifications/latest",n=[];(0,f.Z)()&&(C.creationCutoffDate||!e)&&(C.creationCutoffDate&&e&&n.push("offsetDate=".concat(C.creationCutoffDate)),n.push("notificationCategory=".concat(T[C.activeCategory])),n.length>0&&(t=t.concat("?".concat(n.join("&")))),(0,d.Z)(t).then(t=>{200===t.status&&(e?N((0,u.PI)({notifications:t.body})):(N((0,u.d3)({notifications:t.body})),j()),t.body.length>0?N((0,u.DQ)({creationCutoffDate:t.body[t.body.length-1].created})):N((0,u.CG)({noMoreNotifications:!0})),N((0,u.WF)({requestMoreNotifications:!1})))}))},y=()=>{L.current&&L.current.scrollHeight-(L.current.scrollTop+L.current.offsetHeight)<150&&N((0,u.WF)({requestMoreNotifications:!0}))},E=()=>{if(A.current.length>0){let e=0,t=L.current.firstChild.childNodes;for(e=0;e<t.length;e++){let n=t[e].getBoundingClientRect().height;if(t[e].offsetTop+n>L.current.offsetHeight+L.current.scrollTop)break}e>Z.current&&((e<t.length-1||0!==e)&&(e=e--),N((0,u.MV)({lastVisibleNotification:e})))}},j=()=>{L.current&&(L.current.scrollTop=0)},O=()=>{c(!a)};return(0,i.jsxs)(x,{className:t,children:[(0,i.jsx)(m.Xu,{isOpen:a,variant:"follower",onRequestClose:O}),(0,i.jsx)("div",{className:"notificationCategoryFilters",children:(0,i.jsx)(s.Z,{activeFilter:C.activeCategory,isActiveFilterFirst:!1,variant:"solid",onFilterToggle:e=>{N((0,u.h3)({activeCategory:e}))},filters:(()=>{let e=["All"];return b.moderation&&(0,h.qX)(b.moderation.role,"BASIC")&&(e.push("Commissions"),e.push("Shop")),e.concat(["My Requests","My Orders","Updates","Characters","Challenges"])})()})}),(0,i.jsx)("div",{className:"listContent",ref:L,children:C.notifications.length>0&&(0,i.jsx)("ul",{children:C.notifications.map(e=>(0,i.jsx)("li",{className:"notification",children:(0,i.jsx)(m.lL,{notification:e,timezone:b.preferences?b.preferences.timezone:void 0,toggleFollowersModal:O})},e.notificationID))})||(0,i.jsx)("div",{className:"noNotifications",children:(0,i.jsx)(l.Z,{className:"noNotificationsState",genieVariant:"LOOK",title:"Nothing here yet",description:"When you get notifications, they'll show up here"})})})]})};let x=a.ZP.div.withConfig({componentId:"sc-465a699e-0"})(["box-sizing:border-box;display:flex;flex-direction:column;height:100%;width:100%;.notificationCategoryFilters{box-sizing:border-box;flex-grow:0;flex-shrink:0;padding:0 0 1rem 0.5rem;@media (min-width:","){padding:0 1rem 1rem 1rem;}}.listContent{flex-grow:1;overflow-y:auto;> ul{position:relative;> li.notification{margin-bottom:0.125rem;&:last-child{margin-bottom:2rem;}}}.noNotifications{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%;@media (min-width:","){padding-bottom:2.5rem;}.noNotificationsState{@media (min-width:","){max-width:18.75rem;}@media (min-width:","){max-width:initial;}}}}"],c.Z.MD,c.Z.MD,c.Z.MD,c.Z.XXL)},26437:function(e,t,n){var i=n(85893),r=n(67294),o=n(41248),a=n(19521),s=n(92929),l=n(86398),c=n(72544),d=n(72143),u=n(60601),h=n(45546),f=n(64527),m=n(17689),g=n(47689),p=n(29496);t.Z=e=>{let{className:t,isOpen:n=!1,inset:a,onRequestClose:s}=e,l=(0,o.v9)(e=>e.chat),c=(0,o.v9)(e=>e.notifications),[d,u]=(0,r.useState)(!1),v=(0,o.I0)(),{enqueueSnackbar:I}=(0,p.Ds)();return(0,r.useEffect)(()=>{n&&l.isModalOpen&&!l.isMinimized&&v((0,f.zy)({isMinimized:!0}))},[n]),(0,i.jsx)(x,{className:t,isOpen:n,inset:a,children:(0,i.jsxs)("div",{className:"menuContainer",children:[(0,i.jsxs)("div",{className:"contentSections",children:[(0,i.jsxs)("div",{className:"upper",children:[(0,i.jsx)("h3",{className:"heading",children:"Notifications"}),(0,i.jsx)(m.Z,{text:"Mark all as read",variant:"text-dark",onClick:async()=>{u(!0),await (0,g.Z)({dispatch:v,shouldMarkAllAsRead:!0,allNotifications:c.notifications}),u(!1),I("All notifications successfully marked as read",{variant:"success"})},disabled:d,disabledVariant:"transparent"})]}),(0,i.jsx)(h.Z,{className:"notificationsList",isVisible:n})]}),(0,i.jsx)("div",{className:"expandedNavOverlay",onClick:s})]})})};let x=a.ZP.div.withConfig({componentId:"sc-24235373-0"})(["position:relative;.noLinkStyling{text-decoration:none;}.menuContainer{height:37.5rem;position:absolute;width:25.5rem;z-index:",";@media (min-width:","){height:40.625rem;width:37.5rem;}"," "," .contentSections{background-color:",";border-radius:2.5rem 0.25rem 2.5rem 2.5rem;box-sizing:border-box;display:flex;filter:drop-shadow(",");flex-direction:column;height:100%;overflow:hidden;padding-top:1rem;position:absolute;width:100%;z-index:",";.upper{align-items:center;display:flex;flex-shrink:0;justify-content:space-between;padding:0rem 1.5rem 0rem 1.5rem;> h3.heading{color:",";font-size:",";font-weight:",";line-height:2.125rem;margin:0.75rem 0rem;}> .filters{margin:1.1875rem 0 1rem 0;}}.notificationsList{flex-grow:1;height:calc(100% - 3.625rem);padding:0 0.5rem;}}}.expandedNavOverlay{height:9999px;margin-left:-100vw;margin-top:-100vh;position:absolute;width:9999px;z-index:1;}"],s.Z.MODALS,l.Z.XXL,e=>e.inset?"inset: ".concat(e.inset,";"):"\n                    inset: 0 0 auto auto;\n                ",e=>{if(!e.isOpen)return"display: none;"},c.Z.WHITE,d.Z.ELEVATION_2,s.Z.MODALS,c.Z.BLACK,u.Z.SUBHEADING_SIZES.L,u.Z.WEIGHTS.BLACK)},86442:function(e,t){t.Z={LOOK:{src:"/img/genies/look.webp",alt:"Genie looking with binoculars",userID:"41eab16f-2095-4e1e-893f-fe88aa1602a5"},LURK:{src:"/img/genies/lurk.webp",alt:"Genie lurking",userID:"918cfa50-741f-4a60-a717-561e82478e21"},THUMBS_UP:{src:"/img/genies/thumbs-up.webp",alt:"Genie giving a thumbs up",userID:"43068d3e-7df2-4aef-99b2-c82d014a609f"},THUMBS_UP_2:{src:"/img/genies/thumbs-up-2.webp",alt:"Genie giving a thumbs up",userID:"792ae8c2-b871-4908-aa9d-f7ed40b2fb55"},THUMBS_UP_3:{src:"/img/genies/thumbs-up-3.webp",alt:"Genie giving a thumbs up",artistProfileURL:"https://vgen.co/raechuuarts",artistAvatarURL:"https://storage.googleapis.com/vgen-production-storage/uploads/8bbe9784-a57a-406f-be88-a4f902e3a232/db961aab-6d7b-48e5-b21d-3b8985d6dd7e.webp"},ADMIRE:{src:"/img/genies/admire.webp",alt:"Genie admiring",userID:"43068d3e-7df2-4aef-99b2-c82d014a609f"},POINT:{src:"/img/genies/point.webp",alt:"Genie pointing",userID:"059f3955-08e0-4ec5-bea1-2bfedf257ec9"},DRAFT:{src:"/img/genies/concept-draft-placeholder.webp",userID:"66876c62-f6a7-4489-b007-2b81c423bceb"},VOTE:{src:"/img/genies/vote.webp",alt:'Genie holding a sign saying "Time to vote!"',userID:"41eab16f-2095-4e1e-893f-fe88aa1602a5"},EXCITED:{src:"/img/genies/excited.webp",alt:'Genie waving in excitement saying congrats!"',userID:"41eab16f-2095-4e1e-893f-fe88aa1602a5"},STAY_TUNED:{src:"/img/genies/stay-tuned.webp",alt:'Genie holding a sign saying "Stay tuned for winners!"',userID:"41eab16f-2095-4e1e-893f-fe88aa1602a5"}}},17784:function(e,t){t.Z={NAV_MENUS:"3.75rem 1.5rem auto auto"}},74326:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(91654),r=n(58142),o=n(11661),a=n(99893),s=n(64487),l=()=>{r.default.POSTHOG_ENABLED&&a.ZP.reset(),s.av(null)},c=async function(e){let{shouldRedirect:t=!1,resetSession:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};200===(await (0,i.Z)("/user/session",{method:"DELETE"})).status&&(l(),n&&e((0,o.O)()),t&&window.location.replace(r.default.FRONT_END_URL))}},47689:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(46432),r=n(91654);async function o(e){let{dispatch:t,shouldMarkAllAsRead:n=!1,notificationsToMarkAsRead:o,allNotifications:a={}}=e;await (0,r.Z)("/user/notifications/unread",{method:"PATCH",body:{...n?{shouldMarkAllAsRead:n}:{notificationIDs:o}}}),t((0,i.oy)({lastReadNotification:a.findIndex(e=>n?e.notificationID===a[a.length-1].notificationID:e.notificationID===o[o.length-1])})),t((0,i.C2)({notificationIDs:n?a.map(e=>e.notificationID):o})),n&&t((0,i.Ny)({hasUnread:!1}))}}}]);