/* ====================== partwan 专属完整样式（直接替换你原来的 partwan 所有样式）====================== */

.sl-part.partwan {
  width: 100%;
  height: 100vh;
  position: relative;
  overflow: hidden;
}

/* 主容器：左右布局基础 */
.sl-part.partwan .part-content {
  position: relative;
  width: 100%;
  height: 100%;
  max-width: 1920px;
  margin: 0 auto;
  padding: 0 5rem;
  box-sizing: border-box;
}

/* ====================== 左侧：三张小图（你已经调到完美，不动）====================== */
.partwan-left {
  position: absolute !important;
  left: 5rem;
  top: 50%;
  transform: translateY(-63%) !important;   /* 你调好的值，保持 */
  width: 18rem;
  height: 78vh;
  min-height: 600px;
  max-height: 900px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 100;
}
.partwan-left .wan-tabs {
  list-style: none;
  padding: 0;
  margin: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
}
.partwan-left .wan-tab {
  position: relative;
  cursor: pointer;
}
.partwan-left .wan-tab img {
  width: 100%;
  height: auto;
  position: absolute;
  top: 0; left: 0;
  transition: opacity .4s ease;
}
.partwan-left .wan-tab .img-gray   { opacity: 1; }
.partwan-left .wan-tab .img-bright { opacity: 0; }
.partwan-left .wan-tab.active .img-gray   { opacity: 0; }
.partwan-left .wan-tab.active .img-bright { opacity: 1; }

/* ====================== 右侧：所有内容区块 ====================== */
.partwan-right {
  position: relative;
  width: 100%;
  height: 100%;
}

/* 每个内容区块（互斥显示） */
.partwan-right .wan-content.relationship {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
.partwan-right .wan-content.relationship.active {
  display: flex !important;
}

/* 大面具：在上方巨大居中，像标题一样 */
.partwan-right .wan-content.active .z-index-1 {
  position: absolute;
  top: 8vh;                    /* 距离顶部 8vh（可调 5~12） */
  left: 54%;
  transform: translateX(-50%);
  width: 42vw;
  max-width: 900px;
  z-index: 10;
  pointer-events: none;
}
.partwan-right .wan-content.active .z-index-1 img {
  width: 100%;
  height: auto;
  display: block;
      /* 增加发光投影 */
      filter: drop-shadow(0 0 15px rgba(123, 136, 255, 0.4));
    
      /* 增加缓慢的浮动动画 */
      animation: floating 6s ease-in-out infinite;
}

@keyframes floating {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); } /* 轻微上下浮动 */
  100% { transform: translateY(0px); }
}

/* 文字区：恢复你原本最帅的绝对定位 + bg.png 背景图布局 */
.partwan-right .wan-content.active .relationship-right-str {
  position: absolute;
  top: 41vh;                   /* 整体下移，让面具在上方压场（可调 48~58） */
  left: 50%;
  transform: translateX(-50%);
  width: 71vw;
  max-width: 1300px;
  height: auto;
  min-height: 560px;
}

/* 左右两栏：恢复你原来的绝对定位 + 完整背景图 */
/* .partwan-right .wan-content.active .relationship-right-str .left,
.partwan-right .wan-content.active .relationship-right-str .right {
  position: absolute;
  width: 30vw;
  max-width: 620px;
  aspect-ratio: 1252 / 854;
  background: url('../img/relationship/bg.png') no-repeat center center / 100% 100%;
  padding: 2vw 1vw;
  box-sizing: border-box;
  font-family: "myFont";
  font-weight: 300;
  font-size: calc(0.875rem + 0.1vw);
  line-height: 2.3;
  color: #9ea7b4;
  overflow-y: auto;
  backdrop-filter: blur(2px);
} */

/* 左右两栏：修改为细长布局 */

/* ====================== 回退版本：Border-Image Fill 切割 ====================== */

.partwan-right .wan-content.active .relationship-right-str .left,
.partwan-right .wan-content.active .relationship-right-str .right {
  position: absolute;
  width: 22vw;
  max-width: 450px;
  height: 65vh;
  min-height: 600px;
  background: none;
  aspect-ratio: auto;
  border-style: solid;
  border-color: transparent;
  border-width: 30px 2px 2px 2px;
  border-image-source: url('../img/relationship/bg.png');
  border-image-slice: 64 4 4 4 fill;
  border-image-repeat: stretch;
  padding: 0.5rem 1rem 1rem 1rem;
  box-sizing: border-box;
  overflow-y: auto;
  font-family: "myFont";
  font-weight: 300;
  font-size: calc(0.85rem + 0.1vw);
  line-height: 2.1;
  color: #9ea7b4;
  text-align: justify;
  image-rendering: pixelated; 
  text-justify: inter-ideograph; 
  word-break: break-all; 
}



/* 隐藏滚动条 */
/* .partwan-right .wan-content.active .relationship-right-str .left::-webkit-scrollbar,
.partwan-right .wan-content.active .relationship-right-str .right::-webkit-scrollbar {
  display: none;
} */


/* 左栏：靠左，但不会撞到左侧小图 */
.partwan-right .wan-content.active .relationship-right-str .left {
  left: 5vw;
  bottom: 25vh;         /* 保持贴底 */
  top: auto;         /* 加上这行防止被 top:0 覆盖 */
  transform: translateY(-20px); 
}

/* 右栏：靠右 */
.partwan-right .wan-content.active .relationship-right-str .right {
  right: -4vw;
  top: -5vh;         /* 关键：往上提 5vh，比左栏明显高出一截！ */
  
  bottom: auto;      /* 取消 bottom:0 */
  transform: translateY(20px);
}

/* 左边文字框：稍微上浮 */
.partwan-right .wan-content.active .relationship-right-str .left {
  /* 假设原本是居中的，我们让它往上偏一点 */
  top: 22% !important; 
  transform: translateY(-50%);
  /* 或者用 margin-top: -5vh; */
}

/* 右边文字框：稍微下沉 */
.partwan-right .wan-content.active .relationship-right-str .right {
  /* 让它往下偏一点 */
  top: 23% !important; 
  transform: translateY(-50%);
  /* 或者用 margin-top: 5vh; */
}


@keyframes glitch-in {
  0% {
      opacity: 0;
      transform: translateY(-40%) scaleY(0.1); /* 扁的 */
      filter: blur(5px);
  }
  50% {
      opacity: 1;
      transform: translateY(-50%) scaleY(1.1); /* 稍微拉长 */
  }
  100% {
      opacity: 1;
      transform: translateY(-50%) scaleY(1); /* 恢复正常 */
      filter: blur(0);
  }
}

/* 应用动画 */
.partwan-right .wan-content.active .relationship-right-str .left,
.partwan-right .wan-content.active .relationship-right-str .right {
  /* 保持原来的定位属性... */
  /* 添加动画：0.4秒完成，以 ease-out 结束 */
  animation: glitch-in 0.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

/* 让左右两边稍微错开一点时间出现，更有层次感 */
.partwan-right .wan-content.active .relationship-right-str .right {
  animation-delay: 0.1s; /* 右边晚0.1秒出现 */
  opacity: 0; /* 初始隐藏，防止闪烁 */
  animation-fill-mode: forwards; /* 动画结束后保持状态 */
}







/* ====================== 装饰元素样式 ====================== */

/* 1. 巨大的背景数字 (参考图1/图3) */
/* 让画面不空洞，增加层级感 */
.deco-bg-text {
  position: absolute;
  font-family: "Impact", "Arial Black", sans-serif; /* 选用粗字体 */
  font-size: 12rem;
  line-height: 1;
  color: rgba(123, 136, 255, 0.08); /* 极淡的 #7b88ff */
  z-index: -1; /* 放在最底层 */
  pointer-events: none;
  user-select: none;
}
.deco-bg-text.left-bg {
  top: -60px;
  left: -40px;
}
.deco-bg-text.right-bg {
  bottom: -40px;
  right: -20px;
}

/* 2. 装饰组容器定位 */
.deco-group {
  position: absolute;
  z-index: 10; /* 在文字框之上或旁边 */
  pointer-events: none;
}
/* 左侧装饰定位：贴在左文字框的右上方 */
.deco-group.left-deco {
  top: 15%; /* 根据你的布局微调 */
  left: 23vw; /* 稍微在文字框右边一点 */
}
/* 右侧装饰定位：贴在右文字框的左下方 */
.deco-group.right-deco {
  bottom: 25%;
  right: 23vw;
}

/* 3. 科技连接线 (Visual Connector) */
.deco-group .tech-line {
  width: 100px; /* 线的长度 */
  height: 1px;
  background: linear-gradient(90deg, #7b88ff, transparent);
  position: relative;
}
.deco-group.right-deco .tech-line {
  background: linear-gradient(-90deg, #7b88ff, transparent);
  margin-left: auto; /* 让线靠右 */
}
/* 在线头加个小圆点 */
.deco-group .tech-line::after {
  content: '';
  position: absolute;
  width: 4px;
  height: 4px;
  background: #7b88ff;
  border-radius: 50%;
  top: -1.5px;
  box-shadow: 0 0 8px #7b88ff;
}
.deco-group.left-deco .tech-line::after { left: 0; }
.deco-group.right-deco .tech-line::after { right: 0; }

/* 4. 数据标签 (参考图3/图4) */
.deco-group .data-tag {
  font-family: "Courier New", monospace; /* 等宽字体很有科技感 */
  font-size: 0.75rem;
  color: #7b88ff;
  background: rgba(0, 0, 0, 0.6);
  padding: 2px 6px;
  border: 1px solid #7b88ff;
  margin-top: 5px;
  display: inline-block;
  letter-spacing: 1px;
}

/* 5. 装饰条形码 (参考图4) */
.deco-group .barcode {
  width: 80px;
  height: 10px;
  margin-top: 5px;
  /* 用渐变模拟条形码 */
  background: repeating-linear-gradient(
    90deg,
    #7b88ff,
    #7b88ff 2px,
    transparent 2px,
    transparent 4px
  );
  opacity: 0.7;
}

/* 6. 十字准星 (参考图1) */
.deco-group .crosshair {
  font-family: monospace;
  color: #fff;
  font-size: 1.5rem;
  opacity: 0.5;
  position: absolute;
  right: -20px;
  top: -20px;
}

/* ====================== 现有文字框的微调 ====================== */
/* 稍微给文字框加一点“错位”感，不要完全对齐 (参考图1) */

/* 左框：稍微靠上 */
.partwan-right .wan-content.active .relationship-right-str .left {
  /* 保持你原本的样式，只加这行 */
  transform: translateY(-20px); 
}

/* 右框：稍微靠下 */
.partwan-right .wan-content.active .relationship-right-str .right {
  /* 保持你原本的样式，只加这行 */
  transform: translateY(20px);
}